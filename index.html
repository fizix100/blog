<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>æ™¨æ˜Ÿ_é£çš„åšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="æ™¨æ˜Ÿ_é£çš„åšå®¢">
<meta property="og:url" content="http://yoursite.com/blog/index.html">
<meta property="og:site_name" content="æ™¨æ˜Ÿ_é£çš„åšå®¢">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æ™¨æ˜Ÿ_é£çš„åšå®¢">
  
  
  <script src="/blog/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://oerkxd2a0.bkt.clouddn.com/zizhan/1476063479228.png" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">æ™¨æ˜Ÿã€é£</a></h1>
		</hgroup>

		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/blog/blog">ä¸»é¡µ</a></li>
	        
				<li><a href="/blog/archives">æ‰€æœ‰æ–‡ç« </a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">å‹æƒ…é“¾æ¥</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="http://github.com/fizix100" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="http://weibo.com/fizix100" title="weibo">weibo</a>
		        
					<a class="zhihu" target="_blank" href="http://zhihu.com/people/fizix100" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">æ™¨æ˜Ÿã€é£</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="/blog/http://oerkxd2a0.bkt.clouddn.com/zizhan/1476063479228.png" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
				
			</div>
			<hgroup>
			  <h1 class="header-author">æ™¨æ˜Ÿã€é£</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/blog/blog">ä¸»é¡µ</a></li>
		        
					<li><a href="/blog/archives">æ‰€æœ‰æ–‡ç« </a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="http://github.com/fizix100" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/fizix100" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="http://zhihu.com/people/fizix100" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-UITextFieldå®ç°é“¶è¡Œå¡å·æ ¼å¼è¸©å‘è®°å½•" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="UITextFieldå®ç°é“¶è¡Œå¡å·æ ¼å¼è¸©å‘è®°å½•"><a href="#UITextFieldå®ç°é“¶è¡Œå¡å·æ ¼å¼è¸©å‘è®°å½•" class="headerlink" title="UITextFieldå®ç°é“¶è¡Œå¡å·æ ¼å¼è¸©å‘è®°å½•"></a><strong>UITextFieldå®ç°é“¶è¡Œå¡å·æ ¼å¼è¸©å‘è®°å½•</strong></h2><p>ä¸Šæ¬¡æ¥åˆ°ä¸€ä¸ªâ€œå¾ˆå°çš„éœ€æ±‚â€æ˜¯UITextFieldè¾“å…¥çš„æ•°å­—ç¼–å·è¦æ¯éš”4ä½æ’å…¥ä¸€ä¸ªç©ºæ ¼ï¼Œä¹ä¸€çœ‹å¥½åƒå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨textFieldçš„delegateæ–¹æ³•(shouldChangeCharactersInRange)é‡Œé¢åŠ ä¸€äº›ç®€å•çš„åˆ¤æ–­å¹¶æ’å…¥ç©ºæ ¼å³å¯ï¼Œç„¶è€Œäº‹å®å¹¶ä¸æ˜¯è¿™æ ·ï¼Œè¿™ä¸ªå°å°çš„éœ€æ±‚éšè—äº†å„ç§å°å‘ï¼›</p>
<h3 id="æœ€ç®€å•çš„å®ç°"><a href="#æœ€ç®€å•çš„å®ç°" class="headerlink" title="æœ€ç®€å•çš„å®ç°"></a>æœ€ç®€å•çš„å®ç°</h3><p>è¿™ä¸ªéœ€æ±‚æœ€ç›´è§‚çš„å®ç°æ–¹å¼å°±æ˜¯ï¼Œåœ¨ä»£ç†æ–¹æ³•ä¸­åŠ åˆ¤æ–­æ’å…¥ç©ºæ ¼ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)textField:(<span class="built_in">UITextField</span> *)textField shouldChangeCharactersInRange:(<span class="built_in">NSRange</span>)range replacementString:(<span class="built_in">NSString</span> *)string</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> ((textField.text.length+<span class="number">1</span>) % <span class="number">5</span> == <span class="number">0</span> &amp;&amp; textField.text.length &gt; <span class="number">0</span> &amp;&amp; string.length &gt; <span class="number">0</span>) &#123;</div><div class="line">        textField.text = [textField.text stringByAppendingString:<span class="string">@" "</span>];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç»è¿‡å„ç§ç®€åŒ–æç‚¼ï¼Œå°†å„ç§é€»è¾‘ç®€åŒ–ä¸º1ä¸ªifåˆ¤æ–­è¯­å¥å’Œä¸€è¡Œæ’å…¥ç©ºæ ¼çš„ä»£ç ï¼šæ¡ä»¶æœ‰3ä¸ªï¼šâ‘ å­—ç¬¦ä¸²çš„é•¿åº¦(ä¸å«ç©ºæ ¼)å¯ä»¥è¢«4æ•´é™¤ï¼›â‘¡å­—ç¬¦ä¸²çš„é•¿åº¦å¤§äº0ï¼›â‘¢æœ¬æ¬¡ç¼–è¾‘æ˜¯è¾“å…¥åŠ¨ä½œã€‚ä»¥ä¸Šä»£ç å¯ä»¥æ»¡è¶³æœ€åŸºæœ¬çš„éœ€æ±‚ï¼Œå­—ç¬¦çš„è¾“å‡ºæ ¼å¼ä¸€èˆ¬ä¸ä¼šå‡ºé”™ğŸ˜ã€‚ç„¶è€Œæ®‹é…·çš„ç°å®å‘Šè¯‰ä½ è¿™ä¸ªéœ€æ±‚çœŸçš„æ²¡è¿™ä¹ˆç®€å•ï¼ï¼ï¼</p>
<h3 id="æµ‹è¯•çš„æ— æƒ…é­æŒ"><a href="#æµ‹è¯•çš„æ— æƒ…é­æŒ" class="headerlink" title="æµ‹è¯•çš„æ— æƒ…é­æŒ"></a>æµ‹è¯•çš„æ— æƒ…é­æŒ</h3><p>ä»¥ä¸Šä»£ç ç®€å•æ¸…æ™°ï¼Œè²Œä¼¼å¾ˆå®Œç¾ï¼Œä½†ä¹Ÿä»…ä»…æ˜¯è²Œä¼¼ã€‚è¿™ä¸ªç®€å•çš„é€»è¾‘åˆ¤æ–­çš„å®Œç¾è¡¨ç°æœ‰ä¸€ä¸ªå‰ææ¡ä»¶ï¼šç”¨æˆ·ä¸ä¼šæ‰‹åŠ¨å»ç§»åŠ¨å…‰æ ‡ï¼Œä»…æŒ‰å­—ç¬¦è¾“å…¥é”®æˆ–åˆ é™¤é”®æ¥è¾“å…¥æˆ–åˆ é™¤å­—ç¬¦ã€‚æ­¤æ—¶ä¸»è¦æœ‰2ä¸ªbugï¼šâ‘ å…‰æ ‡ä¸åœ¨æœ«å°¾çš„æ—¶å€™ä¸Šé¢çš„æ’å…¥ç©ºæ ¼é€»è¾‘ä¼šå¤±æ•ˆï¼Œå› ä¸ºåˆ¤æ–­é€»è¾‘è™½ç„¶æ²¡é”™ï¼Œä½†æ˜¯è¾“å…¥æˆ–åˆ é™¤å­—ç¬¦çš„ä½ç½®å˜æ‰äº†ï¼Œå®é™…è¾“å‡ºçš„å­—ç¬¦å°±ä¼šä¹±æ‰ã€‚â‘¡å› ä¸º<code>textField.text = xxx;</code>è¿™è¡Œèµ‹å€¼ä»£ç è¿è¡Œä¹‹åä¼šè‡ªåŠ¨å°†å…‰æ ‡ç§»åŠ¨åˆ°textFieldçš„æœ«å°¾ï¼Œæ‰€ä»¥å¦‚æœç”¨æˆ·çš„å…‰æ ‡ä¸åœ¨æœ«å°¾ï¼Œè¾“å…¥æˆ–åˆ é™¤æŸä¸ªå­—ç¬¦ä¹‹åå…‰æ ‡å°†ç§»åŠ¨åˆ°æœ«å°¾ğŸ˜‚ï¼Œç”¨æˆ·è¡¨ç¤ºä¸€è„¸æ‡µé€¼ğŸ˜³ã€‚</p>
<p>###è§£bugçš„è¯•ç‚¼</p>
<h4 id="å…ˆçœ‹ç¬¬ä¸€ä¸ªbugï¼Œç©ºæ ¼æ’å…¥çš„ä½ç½®ä¼šå‡ºé”™ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦å¦‚ä½•è§£å†³å‘¢ï¼š"><a href="#å…ˆçœ‹ç¬¬ä¸€ä¸ªbugï¼Œç©ºæ ¼æ’å…¥çš„ä½ç½®ä¼šå‡ºé”™ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦å¦‚ä½•è§£å†³å‘¢ï¼š" class="headerlink" title="å…ˆçœ‹ç¬¬ä¸€ä¸ªbugï¼Œç©ºæ ¼æ’å…¥çš„ä½ç½®ä¼šå‡ºé”™ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦å¦‚ä½•è§£å†³å‘¢ï¼š"></a>å…ˆçœ‹ç¬¬ä¸€ä¸ªbugï¼Œç©ºæ ¼æ’å…¥çš„ä½ç½®ä¼šå‡ºé”™ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦å¦‚ä½•è§£å†³å‘¢ï¼š</h4><p>å…ˆåˆ¤æ–­ä¸€ä¸‹å…‰æ ‡ä½ç½®ï¼Œç„¶åçœ‹ç”¨æˆ·å½“å‰æŒ‰çš„æ˜¯åˆ é™¤é”®è¿˜æ˜¯è¾“å…¥å­—ç¬¦é”®ï¼Œæ¥åˆ¤æ–­å½“å‰æ˜¯å¦éœ€è¦æ’å…¥ç©ºæ ¼ï¼Ÿ<br>è¿™ä¸ªåˆ¤æ–­æ¡ä»¶æ¯”è¾ƒç¹çï¼Œä¸ä»…éœ€è¦åˆ¤æ–­å½“å‰çš„å…‰æ ‡ä½ç½®æ˜¯å¦éœ€è¦æ’å…¥å­—ç¬¦ä¸²ï¼Œè€Œä¸”è¦è€ƒè™‘æ’æˆ–è€…ä¸æ’å…¥ç©ºæ ¼ä»¥åŠåœ¨è¾“å…¥/åˆ é™¤æŸä¸ªå­—ç¬¦æ—¶å€™æ•´ä½“å­—ç¬¦ä¸²çš„æ ¼å¼éœ€è¦å˜æ›´çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼š<code>1234 |5678</code>ï¼Œå…‰æ ‡åœ¨5ä¹‹å‰ï¼Œç©ºæ ¼ä¹‹åï¼Œæ­¤æ—¶è¾“å…¥ä¸€ä¸ªå­—ç¬¦9çš„è¯ï¼Œéœ€è¦æ’å…¥ç©ºæ ¼çš„ä½ç½®æ˜¯åœ¨7å’Œ8ä¹‹é—´ï¼Œä¸º<code>1234 9|567 8</code>ï¼Œè¿™è¿˜æ˜¯å­—ç¬¦ä¸²æ¯”è¾ƒçŸ­çš„æƒ…å†µï¼Œå¦‚æœå­—ç¬¦ä¸²æ¯”è¾ƒé•¿ï¼Œè¿˜è¦è€ƒè™‘åé¢æ¯1ä¸ªç©ºæ ¼çš„åˆ é™¤åŠæ’å…¥ã€‚è¿™æ¡è·¯åº”è¯¥æ˜¯æœ‰è§£çš„ï¼Œä½†æ˜¯å¯èƒ½éœ€è¦èµ°è¿‡å±±è·¯18å¼¯ï¼Œå¯¹äºè¿˜æœ‰1å¤©å°±è¦ææµ‹çš„æˆ‘æ¥è¯´ï¼ŒçœŸå¿ƒç»•ä¸èµ·ğŸ¤¥ã€‚</p>
<p>æ²¡æƒ³åˆ°è¿™ä¹ˆä¸ªå°éœ€æ±‚éšè—ç€è¿™æ ·çš„å‘ï¼Œæ­¤åˆ»æˆ‘çš„å¿ƒæƒ…æ˜¯å“‡å‡‰å“‡å‡‰çš„ğŸ˜°ã€‚</p>
<h4 id="æ—¢ç„¶ç¬¬ä¸€ä¸ªbugæš‚æ—¶æ²¡æœ‰å¥½çš„è§£å†³æ–¹æ³•ï¼Œé‚£èƒ½ä¸èƒ½å…ˆè§£å†³ç¬¬äºŒä¸ªå‘¢ï¼Ÿ"><a href="#æ—¢ç„¶ç¬¬ä¸€ä¸ªbugæš‚æ—¶æ²¡æœ‰å¥½çš„è§£å†³æ–¹æ³•ï¼Œé‚£èƒ½ä¸èƒ½å…ˆè§£å†³ç¬¬äºŒä¸ªå‘¢ï¼Ÿ" class="headerlink" title="æ—¢ç„¶ç¬¬ä¸€ä¸ªbugæš‚æ—¶æ²¡æœ‰å¥½çš„è§£å†³æ–¹æ³•ï¼Œé‚£èƒ½ä¸èƒ½å…ˆè§£å†³ç¬¬äºŒä¸ªå‘¢ï¼Ÿ"></a>æ—¢ç„¶ç¬¬ä¸€ä¸ªbugæš‚æ—¶æ²¡æœ‰å¥½çš„è§£å†³æ–¹æ³•ï¼Œé‚£èƒ½ä¸èƒ½å…ˆè§£å†³ç¬¬äºŒä¸ªå‘¢ï¼Ÿ</h4><p>ç¬¬äºŒä¸ªbugæºè‡ªäº<code>textField.text = xxx;</code>è¿™è¡Œä»£ç ï¼Œå¯¹textFieldèµ‹å€¼ä¹‹åå…‰æ ‡è‡ªåŠ¨ç§»åŠ¨åˆ°æœ«å°¾ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥è®°å½•ä¸€ä¸‹èµ‹å€¼ä¹‹å‰çš„å…‰æ ‡ä½ç½®ï¼Œèµ‹å€¼ä¹‹åå†å°†å…‰æ ‡æ”¾å›å»å‘¢ï¼Ÿäºæ˜¯ä»£ç æ”¹æˆè¿™æ ·ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ((textField.text.length+<span class="number">1</span>) % <span class="number">5</span> == <span class="number">0</span> &amp;&amp; textField.text.length &gt; <span class="number">0</span> &amp;&amp; string.length &gt; <span class="number">0</span>) </div><div class="line">&#123;</div><div class="line">	<span class="built_in">UITextRange</span> *textRange = textField.selectedTextRange;</div><div class="line">	textField.text = [textField.text stringByAppendingString:<span class="string">@" "</span>];</div><div class="line">    textField.selectedTextRange = textRange;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿è¡Œä¹‹åå‘ç°ç©ºæ ¼éƒ½ä¸æ’å…¥äº†ï¼Œè¿™å°¼ç›ä»€ä¹ˆé¬¼ï¼Œç„¶åå°±å‘ç°åŸæ¥æ˜¯å› ä¸ºæŠŠå…‰æ ‡è¿˜åŸåˆ°åŸæ¥çš„ä½ç½®ä¹‹åç¼–è¾‘çš„ä½ç½®ä¹Ÿå˜æˆäº†æ’å…¥ç©ºæ ¼ä¹‹å‰çš„ä½ç½®ï¼Œå› æ­¤ç©ºæ ¼æ²¡æœ‰æ’å…¥ğŸ˜“ã€‚</p>
<p>äºæ˜¯å°±é™·å…¥äº†bugçš„æ±ªæ´‹å¤§æµ·ä¹‹ä¸­ï¼Œä½ è¿™æ ·è§£å†³å®ƒå°±é‚£æ ·å†’å‡ºæ¥ï¼Œä½ é‚£æ ·è§£å†³å®ƒå°±è¿™æ ·å†’å‡ºæ¥ğŸ˜¶</p>
<h4 id="æ¢ä¸€ç§æ€è·¯æ¥è§£å†³"><a href="#æ¢ä¸€ç§æ€è·¯æ¥è§£å†³" class="headerlink" title="æ¢ä¸€ç§æ€è·¯æ¥è§£å†³"></a>æ¢ä¸€ç§æ€è·¯æ¥è§£å†³</h4><p>æ—¢ç„¶ç”¨æˆ·çš„è¾“å…¥ä½ç½®ä¸å¯æ§ï¼Œè¾“å…¥ä¹‹åæ˜¯å¦æ’å…¥ç©ºæ ¼ä¹Ÿéœ€è¦ç”±æ¡ä»¶è€Œå®šï¼Œè¾“å…¥ä¹‹åå…‰æ ‡çš„ä½ç½®ä¹Ÿä¸å¯æ§ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯å¯æ§çš„ï¼Ÿç”¨æˆ·è¾“å…¥/åˆ é™¤ä¹‹åçš„å­—ç¬¦ä¸²(ä¸åŒ…å«ç©ºæ ¼)ï¼Œè¿™ä¸ªæ˜¯å¯æ§çš„ã€‚è€Œå…¶ä»–çš„ä¸å¯æ§å› ç´ éƒ½ä¾èµ–äºç¼–è¾‘ä¹‹åçš„å­—ç¬¦ä¸²ã€‚é‚£ä¹ˆæˆ‘ä»¬ç›´æ¥é€šè¿‡ç¼–è¾‘ä¹‹åçš„å­—ç¬¦ä¸²æ¥æ‰¾ç­”æ¡ˆï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)textField:(<span class="built_in">UITextField</span> *)textField shouldChangeCharactersInRange:(<span class="built_in">NSRange</span>)range replacementString:(<span class="built_in">NSString</span> *)string</div><div class="line">&#123;</div><div class="line">    <span class="comment">//  ç¼–è¾‘ä¹‹åçš„å­—ç¬¦ä¸²</span></div><div class="line">    <span class="built_in">NSMutableString</span> *resultString = [<span class="built_in">NSMutableString</span> stringWithString:textField.text];</div><div class="line">    [resultString replaceCharactersInRange:range withString:string];</div><div class="line">    </div><div class="line">    <span class="comment">//  å…ˆå»é™¤ç©ºæ ¼</span></div><div class="line">    <span class="built_in">NSString</span> *noSpaceString = [resultString stringByReplacingOccurrencesOfString:<span class="string">@" "</span> withString:<span class="string">@""</span>];</div><div class="line">    resultString = [<span class="built_in">NSMutableString</span> stringWithString:noSpaceString];</div><div class="line">    </div><div class="line">    <span class="comment">//  æ¯å››ä½æ’å…¥1ä¸ªç©ºæ ¼</span></div><div class="line">    <span class="keyword">for</span> (<span class="built_in">NSInteger</span> i=<span class="number">0</span>; i&lt;resultString.length/<span class="number">5</span>; i++) &#123;</div><div class="line">        [resultString insertString:<span class="string">@" "</span> atIndex:i*<span class="number">5</span>+<span class="number">4</span>];</div><div class="line">    &#125;</div><div class="line">    textField.text = resultString;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="literal">NO</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä»£ç å¯ä»¥ç¼–è¾‘ä¹‹åçš„å­—ç¬¦ä¸²æ ¼å¼ä¸ä¼šå‡ºé”™ï¼Œæ¯éš”4ä½æ’å…¥1ä¸ªç©ºæ ¼ï¼Œå› ä¸ºè¾“å…¥æºæ˜¯å›ºå®šçš„ã€‚ä½†æ˜¯è¿˜é—ç•™æœ‰1ä¸ªé—®é¢˜å°±æ˜¯é€šè¿‡<code>textField.text = resultString</code>èµ‹å€¼ä¹‹åçš„å…‰æ ‡ä½ç½®ä¸€å®šæ˜¯åœ¨æœ«å°¾ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚è¿™ä¸ªbugçš„è§£å†³æ€è·¯è¿˜æ˜¯åœ¨ä¸Šé¢é‚£ä¸€æ­¥ï¼Œå³å…ˆè®°å½•èµ‹å€¼ä¹‹å‰å…‰æ ‡çš„ä½ç½®ï¼Œèµ‹å€¼ä¹‹åå†å°†å…‰æ ‡ç§»åŠ¨åˆ°ä¹‹å‰çš„ä½ç½®ï¼Œåªæ˜¯ä»£ç ä¸æ˜¯ç®€å•çš„2è¡Œäº†ï¼Œè€Œéœ€è¦è€ƒè™‘ç¼–è¾‘ä¹‹åå…‰æ ‡ä½ç½®çš„å˜åŒ–ï¼šå¦‚æœæ˜¯åˆ é™¤ï¼Œå…‰æ ‡çš„è¿ç« ä¼šå‘å‰ç§»åŠ¨ï¼›å¦‚æœæ˜¯è¾“å…¥ï¼Œå…‰æ ‡ä¼šå‘åç§»åŠ¨1ä½ï¼Œå¦‚æœåŒæ—¶åˆç©ºæ ¼æ’å…¥ï¼Œåˆ™å…‰æ ‡éœ€è¦å‘åç§»åŠ¨2ä½ï¼›äºæ˜¯ä»£ç å˜æˆäº†ä¸‹é¢çš„ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)textField:(<span class="built_in">UITextField</span> *)textField shouldChangeCharactersInRange:(<span class="built_in">NSRange</span>)range replacementString:(<span class="built_in">NSString</span> *)string</div><div class="line">&#123;</div><div class="line">    <span class="comment">//  ç¼–è¾‘ä¹‹åçš„å­—ç¬¦ä¸²</span></div><div class="line">    <span class="built_in">NSMutableString</span> *resultString = [<span class="built_in">NSMutableString</span> stringWithString:textField.text];</div><div class="line">    [resultString replaceCharactersInRange:range withString:string];</div><div class="line">    </div><div class="line">    <span class="comment">//  å…ˆå»é™¤ç©ºæ ¼</span></div><div class="line">    <span class="built_in">NSString</span> *noSpaceString = [resultString stringByReplacingOccurrencesOfString:<span class="string">@" "</span> withString:<span class="string">@""</span>];</div><div class="line">    resultString = [<span class="built_in">NSMutableString</span> stringWithString:noSpaceString];</div><div class="line">    </div><div class="line">    <span class="comment">//  æ¯å››ä½æ’å…¥1ä¸ªç©ºæ ¼</span></div><div class="line">    <span class="keyword">for</span> (<span class="built_in">NSInteger</span> i=<span class="number">0</span>; i&lt;resultString.length/<span class="number">5</span>; i++) &#123;</div><div class="line">        [resultString insertString:<span class="string">@" "</span> atIndex:i*<span class="number">5</span>+<span class="number">4</span>];</div><div class="line">    &#125;</div><div class="line">    textField.text = resultString;</div><div class="line">    </div><div class="line">    <span class="comment">//  è®¡ç®—å…‰æ ‡ä½ç½®å¹¶èµ‹å€¼</span></div><div class="line">    <span class="built_in">NSInteger</span> offset = string.length &gt; <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>;</div><div class="line">    <span class="built_in">NSRange</span> resultRange = <span class="built_in">NSMakeRange</span>(range.location+offset, <span class="number">0</span>);</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> (resultRange.location &gt; resultString.length) &#123;</div><div class="line">        resultRange = <span class="built_in">NSMakeRange</span>(resultString.length, <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (string.length &gt; <span class="number">0</span> &amp;&amp; resultRange.location &gt; <span class="number">4</span> &amp;&amp; resultRange.location &lt;= resultString.length &amp;&amp; ([[resultString substringWithRange:<span class="built_in">NSMakeRange</span>(resultRange.location<span class="number">-1</span>, <span class="number">1</span>)] isEqualToString:<span class="string">@" "</span>])) &#123;</div><div class="line">        resultRange = <span class="built_in">NSMakeRange</span>(resultRange.location+<span class="number">1</span>, <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">    [textField setSelectedRange:resultRange];</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="literal">NO</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å…¶ä¸­<code>[textField setSelectedRange:resultRange]</code>æ–¹æ³•ä¸æ˜¯textFieldè‡ªå¸¦æ–¹æ³•ï¼ŒtextFieldçš„åŸæ–¹æ³•æ˜¯<code>setSelectedTextRange</code>ï¼ŒåŸæœ‰çš„UITextRangeå¹¶ä¸èƒ½è‡ªå®šä¹‰ä½ç½®ï¼Œæœ¬è´¨ä¸Šæ˜¯é€šè¿‡è‡ªå®šä¹‰NSRangeç„¶åè½¬æ¢æˆç›¸å¯¹åº”çš„UITextRangeå†è°ƒç”¨textFieldè‡ªå¸¦æ–¹æ³•æ¥å®ç°å…‰æ ‡çš„ä½ç½®è®¾å®šã€‚</p>
<h3 id="æ€»ç»“åŠæ‰©å±•"><a href="#æ€»ç»“åŠæ‰©å±•" class="headerlink" title="æ€»ç»“åŠæ‰©å±•"></a>æ€»ç»“åŠæ‰©å±•</h3><p>ä»¥ä¸Šæœ€ç»ˆæŠŠè¿™ä¸ªå°çš„éœ€æ±‚å®ç°ï¼Œbugä¹Ÿè§£å†³æ‰äº†ï¼Œæœ€ç»ˆä¸Šçº¿ç‰ˆæœ¬ä¹Ÿæ˜¯è¿™æ ·çš„ã€‚ä½†ä¸Šçº¿åæˆ‘è§‰å¾—è¿™æ ·çš„å®ç°æ–¹å¼å¹¶ä¸å¥½ï¼Œå› ä¸ºæ¯æ¬¡æœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼šæŸä¸ªtextFieldéœ€è¦æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œæ¯4ä½æ’å…¥1ä¸ªç©ºæ ¼ï¼Œå°±éœ€è¦æŠŠè¿™æ®µä»£ç copyåˆ°delegateæ–¹æ³•ä¸‹é¢ï¼Œä»£ç é‡å¤ä¸è¯´è¿˜å®¹æ˜“å‡ºé”™ï¼Œå› ä¸ºå¾ˆæœ‰å¯èƒ½è¿™ä¸ªtextFieldå¹¶ä¸ä»…ä»…æœ‰è¿™1ç§æ ¼å¼ï¼Œè¿˜éœ€è¦è€ƒè™‘å¦‚æœtextFieldåœ¨æŸä¸ªTableViewCellçš„æ—¶å€™å…¶ä»–è¾“å…¥æºå¹¶ä¸éœ€è¦è¿™æ ·çš„æ ¼å¼åŒ–ï¼Œäºæ˜¯åˆè¦è®¾ç½®ä¸€äº›æ¡ä»¶ã€‚è¿™ä¸ªè¿‡ç¨‹å¾ˆç¹çã€‚</p>
<p>ç”±æ­¤æƒ³åˆ°èƒ½ä¸èƒ½é€šè¿‡ç»™textFieldæ·»åŠ categoryçš„æ–¹æ³•æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œè®¾ç½®1ä¸ªå¼€å…³ï¼Œéœ€è¦æ ¼å¼åŒ–çš„æ—¶å€™æ‰“å¼€ï¼Œä¸éœ€è¦å°±å…³é—­æˆ–ä¸æ‰“å¼€ã€‚</p>
<h4 id="æ‰©å±•ä¹‹è·¯"><a href="#æ‰©å±•ä¹‹è·¯" class="headerlink" title="æ‰©å±•ä¹‹è·¯"></a>æ‰©å±•ä¹‹è·¯</h4><p>é¦–å…ˆæƒ³åˆ°çš„æ˜¯ç›´æ¥æŠŠdelegateçš„ä»£ç copyåˆ°categoryé‡Œé¢ï¼Œåœ¨categoryé‡Œé¢å®ç°ä»£ç†æ–¹æ³•ï¼Œè¿™æ ·åšæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥æœ‰ä¸€äº›é™åˆ¶ï¼šä½¿ç”¨è¿™ä¸ªåŠŸèƒ½çš„textFieldå¦‚æœè‡ªå·±å†è®¾ç½®delegateæºï¼Œé‚£ä¹ˆæ ¼å¼åŒ–æ–¹æ³•ä¼šå¤±æ•ˆï¼Œå› ä¸ºcategoryé‡Œçš„delegateæºæ²¡æœ‰è¢«é‡‡ç”¨ã€‚åŒæ—¶è¿˜æœ‰ä¸€ä¸ªå°çš„ç¼ºæ†¾æ˜¯ï¼Œå¦‚æœè¯¥textFieldä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰é”®ç›˜DDKeyboardï¼Œç”±äºDDKeyboardåˆ é™¤é”®å¹¶ä¸è§¦å‘delegateæ–¹æ³•ï¼Œåˆ é™¤äº‹ä»¶æ˜¯ä¸èƒ½è¢«æ•è·çš„ï¼Œä¹Ÿå°±ä¸èƒ½æ­£ç¡®çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²(æ‰€ä»¥çº¿ä¸Šç‰ˆæœ¬å¹¶æ²¡æœ‰ä½¿ç”¨è‡ªå®šä¹‰é”®ç›˜)ã€‚</p>
<p>è¿™æ—¶å‚è€ƒäº†<code>WTReTextField</code>çš„åšæ³•ï¼Œé€šè¿‡ç›‘å¬textFieldçš„ç¼–è¾‘çŠ¶æ€<code>UIControlEventEditingChanged</code>æ¥æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚è¿™æ ·å°±æ’é™¤äº†delegateæºçš„å¹²æ‰°ï¼ŒåŒæ—¶è¿˜èƒ½æ”¯æ’‘è‡ªå®šä¹‰é”®ç›˜çš„ä½¿ç”¨ã€‚è¿™ä¸ªå®ç°è¿‡ç¨‹ç›¸å¯¹æ¯”è¾ƒé¡ºåˆ©ï¼Œä½†ä¹Ÿæœ‰äº›é—®é¢˜æ¯”è¾ƒè€—æ—¶ï¼š</p>
<h5 id="å¦‚ä½•åˆ¤æ–­æŸæ¬¡ç¼–è¾‘æ˜¯åˆ é™¤è¿˜æ˜¯è¾“å…¥ï¼Œè¿™ä¸ªæ¡ä»¶ä¼šå½±å“å…‰æ ‡æœ€ç»ˆçš„ä½ç½®ã€‚"><a href="#å¦‚ä½•åˆ¤æ–­æŸæ¬¡ç¼–è¾‘æ˜¯åˆ é™¤è¿˜æ˜¯è¾“å…¥ï¼Œè¿™ä¸ªæ¡ä»¶ä¼šå½±å“å…‰æ ‡æœ€ç»ˆçš„ä½ç½®ã€‚" class="headerlink" title="å¦‚ä½•åˆ¤æ–­æŸæ¬¡ç¼–è¾‘æ˜¯åˆ é™¤è¿˜æ˜¯è¾“å…¥ï¼Œè¿™ä¸ªæ¡ä»¶ä¼šå½±å“å…‰æ ‡æœ€ç»ˆçš„ä½ç½®ã€‚"></a>å¦‚ä½•åˆ¤æ–­æŸæ¬¡ç¼–è¾‘æ˜¯åˆ é™¤è¿˜æ˜¯è¾“å…¥ï¼Œè¿™ä¸ªæ¡ä»¶ä¼šå½±å“å…‰æ ‡æœ€ç»ˆçš„ä½ç½®ã€‚</h5><p>æˆ‘çš„è§£å†³æ–¹æ³•æ˜¯ï¼Œè®°å½•textFieldå€¼å˜åŒ–ä¹‹å<code>UIControlEventValueChanged</code>çš„å­—ç¬¦ä¸²ï¼Œç„¶åä¸‹æ¬¡ç¼–è¾‘æ—¶æ¯”è¾ƒä¸€ä¸‹ä¸Šæ¬¡è®°å½•çš„å­—ç¬¦ä¸²å’Œå½“å‰çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœå½“å‰å­—ç¬¦ä¸²æ¯”è¾ƒé•¿ï¼Œé‚£æ¡£æ¬¡ç¼–è¾‘å°±æ˜¯è¾“å…¥ï¼Œåä¹‹åˆ™æ˜¯åˆ é™¤ã€‚</p>
<h5 id="å…‰æ ‡ä½ç½®çš„è®¡ç®—"><a href="#å…‰æ ‡ä½ç½®çš„è®¡ç®—" class="headerlink" title="å…‰æ ‡ä½ç½®çš„è®¡ç®—"></a>å…‰æ ‡ä½ç½®çš„è®¡ç®—</h5><p>ä¹‹å‰åœ¨delegateæ–¹æ³•é‡Œé¢å®ç°çš„æ—¶å€™ï¼Œå…‰æ ‡çš„ä½ç½®å¯ä»¥é€šè¿‡delegateä¼ è¿‡æ¥çš„<code>range</code>å¾—åˆ°ï¼Œæ”¹ç”±äº‹ä»¶ç›‘å¬æ–¹æ³•ä¹‹åï¼Œå…‰æ ‡ä½ç½®å°±åªèƒ½é€šè¿‡<code>UITextRange *selectedRange = textField;</code>æ¥å¾—åˆ°äº†ï¼Œä½†æ˜¯è¿™ä¸ª<code>range</code>å’Œdelegateæ–¹æ³•é‡Œçš„<code>range</code>æ˜¯æœ‰åŒºåˆ«çš„ï¼Œå‰è€…å¾—åˆ°çš„æ˜¯æœ¬æ¬¡ç¼–è¾‘ä¹‹åçš„rangeï¼Œåè€…å¾—åˆ°çš„æ˜¯æœ¬æ¬¡ç¼–è¾‘ä¹‹å‰çš„rangeã€‚æ‰€ä»¥å…‰æ ‡ä½ç½®éœ€è¦é‡æ–°è®¡ç®—ã€‚</p>
<p>ç”±äºäº‹ä»¶ç›‘å¬æ–¹æ¡ˆå¾—åˆ°çš„<code>range</code>æ˜¯ç¼–è¾‘ä¹‹åçš„rangeï¼Œæ‰€ä»¥å…¶å®éœ€è¦è€ƒè™‘çš„å…‰æ ‡ä½ç½®çš„ä»…æ˜¯ä¸€äº›ä¾‹å¤–ï¼šæ’å…¥ç©ºæ ¼ä¹‹åå…‰æ ‡ä½ç½®éœ€è¦å‘åé¢å¤–ç§»åŠ¨1ä½ï¼Œå¦‚ï¼š<code>1234| 6789</code>å…‰æ ‡åœ¨4åé¢<code>NSRange(4,0)</code>ï¼Œè¿™æ˜¯å¦‚æœè¾“å…¥5ï¼Œé‚£ä¹ˆç»“æœåº”è¯¥æ˜¯<code>1234 5|678 9</code>ï¼Œå…‰æ ‡ä½ç½®æ˜¯<code>NSRange(6,0)</code>ï¼Œè¿™æ—¶ç³»ç»Ÿæ–¹æ³•è®°å½•çš„å…‰æ ‡ä½ç½®å…¶å®æ˜¯<code>NSRange(6,0)</code>ï¼Œå› ä¸ºå®ƒå¹¶ä¸çŸ¥é“ä½ åœ¨5ä¹‹å‰æ’å…¥äº†ä¸€ä¸ªç©ºæ ¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ˜¯å¦æ’å…¥ç©ºæ ¼çš„æ¡ä»¶æ€æ ·æ¥åˆ¤æ–­å‘¢ï¼Ÿ</p>
<p>æœ€åæˆ‘çš„è§£å†³æ–¹æ³•æ˜¯ï¼šåˆ¤æ–­è¾“å…¥ä¹‹å‰å…‰æ ‡çš„ä½ç½®å‰é¢çš„4ä½å­—ç¬¦æ˜¯å¦å«æœ‰ç©ºæ ¼ï¼Œå¦‚æœæ²¡æœ‰ç©ºæ ¼é‚£å°±å¯ä»¥æ–­å®šå…‰æ ‡æ‰€åœ¨çš„ä½ç½®æ˜¯éœ€è¦æ’å…¥ç©ºæ ¼çš„ï¼Œå…‰æ ‡çš„ä½ç½®ç›¸åº”çš„éœ€è¦å‘åç§»åŠ¨1ä½ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//  å¦‚æœæœ¬æ¬¡ç¼–è¾‘æ˜¯è¾“å…¥è€Œä¸æ˜¯åˆ é™¤ï¼Œå¹¶ä¸”è¾“å…¥ä¹‹å‰å…‰æ ‡çš„ä½ç½®åœ¨æŸæ®µ4ä½å·ç çš„å°¾éƒ¨ï¼Œåˆ™å…‰æ ‡ç›¸åº”çš„éœ€è¦å‘åç§»åŠ¨ä¸€ä½(ç©ºæ ¼å½±å“)</span></div><div class="line"><span class="keyword">if</span> (textAfterAction.length &gt; textBeforeAction.length &amp;&amp; range.location &gt; <span class="number">4</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (range.location - <span class="number">1</span> &lt;= textBeforeAction.length) &#123;</div><div class="line">        <span class="built_in">NSString</span> *formerString = [textBeforeAction substringWithRange:<span class="built_in">NSMakeRange</span>(range.location<span class="number">-5</span>, <span class="number">4</span>)];</div><div class="line">        <span class="keyword">if</span> (![formerString containsString:<span class="string">@" "</span>]) &#123;</div><div class="line">            range = <span class="built_in">NSMakeRange</span>(range.location + <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è‡³æ­¤categoryçš„å®ç°æ–¹æ¡ˆæœ€ç»ˆå®Œæˆï¼Œcategoryçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<p><code>UITextField+customFormat.h</code>æ–‡ä»¶</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">UITextField</span> (<span class="title">customFormat</span>)</span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)setHasSpaceEveryFourDigits:(<span class="built_in">BOOL</span>)flag;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p><code>UITextField+customFormat.m</code>æ–‡ä»¶</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"UITextField+customFormat.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;objc/runtime.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">char</span> *kPropertyTextBeforeEditing;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">UITextField</span>()&lt;<span class="title">UITextFieldDelegate</span>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *textBeforeEditing;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">UITextField</span> (<span class="title">customFormat</span>)</span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)setTextBeforeEditing:(<span class="built_in">NSString</span> *)textBeforeEditing</div><div class="line">&#123;</div><div class="line">    objc_setAssociatedObject(<span class="keyword">self</span>, &amp;kPropertyTextBeforeEditing, textBeforeEditing, OBJC_ASSOCIATION_COPY);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="built_in">NSString</span> *)textBeforeEditing</div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> objc_getAssociatedObject(<span class="keyword">self</span>, &amp;kPropertyTextBeforeEditing);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#pragma mark - outer reference</span></div><div class="line">- (<span class="keyword">void</span>)setHasSpaceEveryFourDigits:(<span class="built_in">BOOL</span>)flag;</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (flag) &#123;</div><div class="line">        [<span class="keyword">self</span> addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(valueDidChanged) forControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</div><div class="line">        [<span class="keyword">self</span> addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(editingChanged) forControlEvents:<span class="built_in">UIControlEventEditingChanged</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">        [<span class="keyword">self</span> removeTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(valueDidChanged) forControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</div><div class="line">        [<span class="keyword">self</span> removeTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(editingChanged) forControlEvents:<span class="built_in">UIControlEventEditingChanged</span>];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#pragma mark - handle event</span></div><div class="line"><span class="comment">//  è®°å½•ä¸Šæ¬¡ç¼–è¾‘ä¹‹åçš„å­—ç¬¦ä¸²</span></div><div class="line">- (<span class="keyword">void</span>)valueDidChanged</div><div class="line">&#123;</div><div class="line">    <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">        [<span class="keyword">self</span> setTextBeforeEditing:<span class="keyword">self</span>.text];</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//  æœ¬æ¬¡ç¼–è¾‘æ—¶è°ƒç”¨æ ¼å¼åŒ–æ–¹æ³•</span></div><div class="line">- (<span class="keyword">void</span>)editingChanged</div><div class="line">&#123;</div><div class="line">    <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">        [<span class="keyword">self</span> actionFormatString];</div><div class="line">        [<span class="keyword">self</span> sendActionsForControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//	æ ¼å¼åŒ–å­—ç¬¦ä¸²å¹¶è®¾ç½®å…‰æ ‡ä½ç½®çš„æ–¹æ³•</span></div><div class="line">- (<span class="keyword">void</span>)actionFormatString</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSString</span> *textBeforeAction = <span class="keyword">self</span>.textBeforeEditing;</div><div class="line">    <span class="built_in">NSString</span> *textAfterAction = <span class="keyword">self</span>.text;</div><div class="line">    <span class="built_in">NSString</span> *textFormatted = [<span class="keyword">self</span> stringOfSpaceEveryFourDigitsFromOriginalString:textAfterAction];</div><div class="line">    </div><div class="line">    <span class="comment">//  è®°å½•ç¼–è¾‘è¿‡åçš„å…‰æ ‡ä½ç½®ï¼Œä¾›ä¸‹é¢è°ƒç”¨ï¼Œå› ä¸ºè°ƒç”¨è¿‡[setText]æ–¹æ³•ä¹‹åå…‰æ ‡ä½ç½®ä¼šè‡ªåŠ¨æ”¾åˆ°æœ«ä½ï¼›</span></div><div class="line">    <span class="built_in">NSRange</span> range = [<span class="keyword">self</span> selectedRange];</div><div class="line">    </div><div class="line">    <span class="comment">//  å¦‚æœæœ¬æ¬¡ç¼–è¾‘æ˜¯è¾“å…¥è€Œä¸æ˜¯åˆ é™¤ï¼Œå¹¶ä¸”è¾“å…¥ä¹‹å‰å…‰æ ‡çš„ä½ç½®åœ¨æŸæ®µ4ä½å·ç çš„å°¾éƒ¨ï¼Œåˆ™å…‰æ ‡ç›¸åº”çš„éœ€è¦å‘åç§»åŠ¨ä¸€ä½(ç©ºæ ¼å½±å“)ï¼›</span></div><div class="line">    <span class="keyword">if</span> (textAfterAction.length &gt; textBeforeAction.length &amp;&amp; range.location &gt; <span class="number">4</span>) &#123;</div><div class="line">        <span class="keyword">if</span> (range.location - <span class="number">5</span> + <span class="number">4</span> &lt;= textBeforeAction.length) &#123;</div><div class="line">            <span class="built_in">NSString</span> *formerString = [textBeforeAction substringWithRange:<span class="built_in">NSMakeRange</span>(range.location<span class="number">-5</span>, <span class="number">4</span>)];</div><div class="line">            <span class="keyword">if</span> (![formerString containsString:<span class="string">@" "</span>]) &#123;</div><div class="line">                range = <span class="built_in">NSMakeRange</span>(range.location + <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//  å¦‚æœå…‰æ ‡çš„ä½ç½®è¶…è¿‡äº†å­—ç¬¦ä¸²é•¿åº¦ï¼Œè®¾ç½®å…‰æ ‡ä½ç½®åˆ°æœ«ä½(åˆ é™¤æ—¶ä¼šå‡ºç°è¿™ç§æƒ…å†µ)ï¼›</span></div><div class="line">    <span class="keyword">if</span> (range.location &gt; textFormatted.length) &#123;</div><div class="line">        range = <span class="built_in">NSMakeRange</span>(textFormatted.length, <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//  è®¾ç½®æ ¼å¼åŒ–ä¹‹åçš„å­—ç¬¦ä¸²ï¼Œå°†å…‰æ ‡ç§»åˆ°æŒ‡å®šä½ç½®ï¼›</span></div><div class="line">    [<span class="keyword">self</span> setText:textFormatted];</div><div class="line">    [<span class="keyword">self</span> setSelectedRange:range];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#pragma mark - format string</span></div><div class="line">- (<span class="built_in">NSString</span> *)stringOfSpaceEveryFourDigitsFromOriginalString:(<span class="built_in">NSString</span> *)rawString</div><div class="line">&#123;</div><div class="line">    <span class="comment">//  å°†æºå­—ç¬¦ä¸²ä¸­çš„ç©ºæ ¼å…¨éƒ¨ç§»é™¤</span></div><div class="line">    <span class="built_in">NSString</span> *normalString = [rawString stringByReplacingOccurrencesOfString:<span class="string">@" "</span> withString:<span class="string">@""</span>];</div><div class="line">    <span class="built_in">NSMutableString</span> *resultString = [<span class="built_in">NSMutableString</span> stringWithString:normalString];</div><div class="line">    </div><div class="line">    <span class="comment">//  æ¯å››ä½æ’å…¥1ä¸ªç©ºæ ¼</span></div><div class="line">    <span class="keyword">for</span> (<span class="built_in">NSInteger</span> i=<span class="number">0</span>; i&lt;resultString.length/<span class="number">5</span>; i++) &#123;</div><div class="line">        [resultString insertString:<span class="string">@" "</span> atIndex:i*<span class="number">5</span>+<span class="number">4</span>];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> resultString;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#pragma mark - set textRange and get textRange</span></div><div class="line">- (<span class="keyword">void</span>) setSelectedRange:(<span class="built_in">NSRange</span>) range</div><div class="line">&#123;</div><div class="line">    <span class="built_in">UITextPosition</span> *beginning = <span class="keyword">self</span>.beginningOfDocument;</div><div class="line">    </div><div class="line">    <span class="built_in">UITextPosition</span> *startPosition = [<span class="keyword">self</span> positionFromPosition:beginning offset:range.location];</div><div class="line">    <span class="built_in">UITextPosition</span> *endPosition = [<span class="keyword">self</span> positionFromPosition:beginning offset:range.location + range.length];</div><div class="line">    <span class="built_in">UITextRange</span> *selectionRange = [<span class="keyword">self</span> textRangeFromPosition:startPosition toPosition:endPosition];</div><div class="line">    </div><div class="line">    [<span class="keyword">self</span> setSelectedTextRange:selectionRange];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="built_in">NSRange</span>) selectedRange</div><div class="line">&#123;</div><div class="line">    <span class="built_in">UITextPosition</span>* beginning = <span class="keyword">self</span>.beginningOfDocument;</div><div class="line">    </div><div class="line">    <span class="built_in">UITextRange</span>* selectedRange = <span class="keyword">self</span>.selectedTextRange;</div><div class="line">    <span class="built_in">UITextPosition</span>* selectionStart = selectedRange.start;</div><div class="line">    <span class="built_in">UITextPosition</span>* selectionEnd = selectedRange.end;</div><div class="line">    </div><div class="line">    <span class="keyword">const</span> <span class="built_in">NSInteger</span> location = [<span class="keyword">self</span> offsetFromPosition:beginning toPosition:selectionStart];</div><div class="line">    <span class="keyword">const</span> <span class="built_in">NSInteger</span> length = [<span class="keyword">self</span> offsetFromPosition:selectionStart toPosition:selectionEnd];</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="built_in">NSMakeRange</span>(location, length);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/blog/2016/12/29/UITextFieldå®ç°é“¶è¡Œå¡å·æ ¼å¼è¸©å‘è®°å½•/" class="archive-article-date">
  	<time datetime="2016-12-29T09:47:26.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-12-29</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-UITableViewIntro" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2016/10/10/UITableViewIntro/">UITableViewå¸¸ç”¨æ–¹æ³•ç®€ä»‹</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>UITableViewæ˜¯iOSå¼€å‘å¿…ä¸å¯å°‘ä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€ä¸ªæ§ä»¶ç±»ä¹‹ä¸€ã€‚iOSå¼€å‘è€…éƒ½éœ€è¦ç†Ÿç»ƒä½¿ç”¨å’ŒæŒæ¡å®ƒã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»ä¸€ä¸‹UITableViewçš„ä¸€äº›å¸¸ç”¨æ–¹æ³•ã€‚</p>
<blockquote>
<p>UITableView çš„å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://developer.apple.com/reference/uikit/uitableview?language=objc" target="_blank" rel="external">Appleå¼€å‘è€…æ–‡æ¡£</a></p>
</blockquote>
<h5 id="1-åˆå§‹åŒ–-UITableViewå¯¹è±¡"><a href="#1-åˆå§‹åŒ–-UITableViewå¯¹è±¡" class="headerlink" title="1) åˆå§‹åŒ– UITableViewå¯¹è±¡"></a>1) åˆå§‹åŒ– UITableViewå¯¹è±¡</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">initWithFrame:style:	<span class="comment">//åˆå§‹åŒ–æ–¹æ³•ï¼Œç”¨xibçš„è¯ä¸éœ€è¦è°ƒç”¨</span></div></pre></td></tr></table></figure>
<h5 id="2-é…ç½®TableView"><a href="#2-é…ç½®TableView" class="headerlink" title="2)é…ç½®TableView"></a>2)é…ç½®TableView</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">style <span class="comment">// æœ‰ä¸¤ç§ UITableViewStylePlain,UITableViewStyleGrouped</span></div><div class="line">numberOfRowsInSection:  <span class="comment">// sectionå†…rowçš„æ•°é‡</span></div><div class="line">numberOfSections  <span class="comment">// sectionæ•°é‡</span></div><div class="line">rowHeight <span class="comment">// è¡Œé«˜ï¼Œå›ºå®šè¡Œé«˜å¯ç”¨ï¼Œæ€§èƒ½æ¯”delegateæ–¹æ³•å¥½ </span></div><div class="line">separatorStyle <span class="comment">// cellåˆ†å‰²çº¿é£æ ¼</span></div><div class="line">separatorColor <span class="comment">// cellåˆ†å‰²çº¿é¢œè‰² </span></div><div class="line">backgroundView <span class="comment">// tableviewçš„èƒŒæ™¯view, è¿™ä¸ªèƒŒæ™¯viewåœ¨æ‰€æœ‰cell, header views, footer viewsä¹‹å </span></div><div class="line">tableHeaderView <span class="comment">// tableviewä¸Šæ–¹çš„headerView</span></div><div class="line">tableFooterView <span class="comment">// tableviewä¸‹æ–¹çš„footerview </span></div><div class="line">sectionHeaderHeight <span class="comment">// section Headerçš„é«˜åº¦ï¼Œ </span></div><div class="line">sectionFooterHeight <span class="comment">// section Footerçš„é«˜åº¦ </span></div><div class="line">sectionIndexMinimumDisplayRowCount <span class="comment">//  åœ¨tableviewå³ä¾§å±•ç¤ºç´¢å¼•çš„æœ€å°è¡Œæ•°è¦æ±‚</span></div></pre></td></tr></table></figure>
<h5 id="3ï¼‰-è®¿é—®Cellså’ŒSections"><a href="#3ï¼‰-è®¿é—®Cellså’ŒSections" class="headerlink" title="3ï¼‰ è®¿é—®Cellså’ŒSections"></a>3ï¼‰ è®¿é—®Cellså’ŒSections</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">â€“ cellForRowAtIndexPath: <span class="comment">//æ ¹æ®IndexPathè¿”å›cell </span></div><div class="line">â€“ indexPathForCell: <span class="comment">//æ ¹æ®cellè¿”å›å®ƒçš„indexPath,å’Œä¸Šé¢çš„æ–¹æ³•äº’è¡¥ </span></div><div class="line">â€“ indexPathForRowAtPoint:<span class="comment">//æ ¹æ®ä¸€ä¸ªå‡ ä½•ç‚¹è¿”å›indexPath,å¦‚æœè¶…è¿‡è¾¹ç•Œè¿”å›nil </span></div><div class="line">â€“ indexPathsForRowsInRect: <span class="comment">//æ ¹æ®ä¸€ä¸ªå‡ ä½•çš„çŸ©å½¢è¿”å›çŸ©å½¢æ‰€è¦†ç›–çš„è¡Œ,è¿”å›æ˜¯ä¸€ä¸ªindexPathæ•°ç»„ </span></div><div class="line">â€“ visibleCells <span class="comment">// å½“å‰è§†å›¾ä¸‹å¯è§cell</span></div><div class="line">â€“ indexPathsForVisibleRows <span class="comment">// å½“å‰è§†å›¾ä¸‹å¯è§cellçš„åºåˆ—</span></div></pre></td></tr></table></figure>
<h5 id="4-æ»šåŠ¨TableView"><a href="#4-æ»šåŠ¨TableView" class="headerlink" title="4) æ»šåŠ¨TableView"></a>4) æ»šåŠ¨TableView</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">â€“ scrollToRowAtIndexPath:atScrollPosition:animated: <span class="comment">// æ»šåŠ¨åˆ°æŒ‡å®šä½ç½® </span></div><div class="line">â€“ scrollToNearestSelectedRowAtScrollPosition:animated: <span class="comment">// åŒä¸Š</span></div></pre></td></tr></table></figure>
<h5 id="5-ç®¡ç†sections"><a href="#5-ç®¡ç†sections" class="headerlink" title="5) ç®¡ç†sections"></a>5) ç®¡ç†sections</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">â€“ indexPathForSelectedRow <span class="comment">//è¿”å›é€‰å®šè¡Œçš„indexPath,å•è¡Œ </span></div><div class="line">â€“ indexPathsForSelectedRows <span class="comment">//è¿”å›é€‰å®šè¡Œçš„indexPathæ•°ç»„ï¼Œå¤šè¡Œ </span></div><div class="line">â€“ selectRowAtIndexPath:animated:scrollPosition: <span class="comment">//æ ¹æ®indexPathé€‰æ‹©ä¸€è¡Œ </span></div><div class="line">â€“ deselectRowAtIndexPath:animated: <span class="comment">//åé€‰ä¸€è¡Œï¼Œæœ‰ä½•ç”¨ï¼Ÿ </span></div><div class="line">  allowsSelection <span class="comment">//æ˜¯å¦å…è®¸ç”¨æˆ·é€‰å–ä¸€è¡Œ </span></div><div class="line">  allowsMultipleSelection <span class="comment">// æ˜¯å¦é€‰å–å¤šè¡Œï¼Œç¼ºçœä¸ºNO. å¯ä»¥è¯•è¯•YESåçš„æ•ˆæœï¼Œå“ˆå“ˆ </span></div><div class="line">  allowsSelectionDuringEditing <span class="comment">// ç¼–è¾‘æ¨¡å¼æ—¶æ˜¯å¦å¯é€‰å–ä¸€è¡Œ </span></div><div class="line">  allowsMultipleSelectionDuringEditing <span class="comment">// ç¼–è¾‘æ¨¡å¼æ—¶å¯å¦é€‰å–å¤šè¡Œ</span></div></pre></td></tr></table></figure>
<h5 id="6-æ’å…¥ã€åˆ é™¤ã€ç§»åŠ¨è¡Œå’Œsections"><a href="#6-æ’å…¥ã€åˆ é™¤ã€ç§»åŠ¨è¡Œå’Œsections" class="headerlink" title="6) æ’å…¥ã€åˆ é™¤ã€ç§»åŠ¨è¡Œå’Œsections"></a>6) æ’å…¥ã€åˆ é™¤ã€ç§»åŠ¨è¡Œå’Œsections</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">â€“ beginUpdates <span class="comment">// å’ŒendUpdatesä¸€èµ·ç”¨ï¼Œè®©æ’å…¥ã€åˆ é™¤ã€é€‰æ‹©æ“ä½œåŒæ—¶åŠ¨ç”»ï¼Œæ²¡ç”¨è¿‡ </span></div><div class="line">â€“ endUpdates <span class="comment">// </span></div><div class="line">â€“ insertRowsAtIndexPaths:withRowAnimation: <span class="comment">//æ ¹æ®indexPathæ•°ç»„æ’å…¥è¡Œ </span></div><div class="line">â€“ deleteRowsAtIndexPaths:withRowAnimation: <span class="comment">//æ ¹æ®indexPathæ•°ç»„åˆ é™¤è¡Œ </span></div><div class="line">â€“ moveRowAtIndexPath:toIndexPath: <span class="comment">//ç§»åŠ¨ä¸€è¡Œåˆ°å¦ä¸€è¡Œ </span></div><div class="line">â€“ insertSections:withRowAnimation: <span class="comment">//æ’å…¥sections </span></div><div class="line">â€“ deleteSections:withRowAnimation: <span class="comment">//åˆ é™¤sections </span></div><div class="line">â€“ moveSection:toSection: <span class="comment">//ç§»åŠ¨section</span></div></pre></td></tr></table></figure>
<h5 id="7-ç®¡ç†å’Œç¼–è¾‘cell"><a href="#7-ç®¡ç†å’Œç¼–è¾‘cell" class="headerlink" title="7) ç®¡ç†å’Œç¼–è¾‘cell"></a>7) ç®¡ç†å’Œç¼–è¾‘cell</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">  editing  <span class="comment">// YESè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œtableview cellä¼šå‡ºç°æ’å…¥ã€åˆ é™¤ã€é‡æ’åºçš„æ§ä»¶ </span></div><div class="line">â€“ setEditing:animated: <span class="comment">//è®¾ç½®è¿›å…¥é€€å‡ºç¼–è¾‘æ¨¡å¼</span></div></pre></td></tr></table></figure>
<h5 id="8-é‡æ–°åŠ è½½TableView"><a href="#8-é‡æ–°åŠ è½½TableView" class="headerlink" title="8) é‡æ–°åŠ è½½TableView"></a>8) é‡æ–°åŠ è½½TableView</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">â€“ reloadData <span class="comment">// åˆ·æ–°æ•´ä¸ªè¡¨ï¼ŒåŒ…æ‹¬cellsã€headerã€footerï¼Œindexs </span></div><div class="line">â€“ reloadRowsAtIndexPaths:withRowAnimation: <span class="comment">// åˆ·æ–°æŒ‡å®šè¡Œ </span></div><div class="line">â€“ reloadSections:withRowAnimation: <span class="comment">// åˆ·æ–°æŒ‡å®šç»„</span></div><div class="line">â€“ reloadSectionIndexTitles <span class="comment">// åˆ·æ–°ç»„æ ‡é¢˜</span></div></pre></td></tr></table></figure>
<h5 id="9-è®¿é—®TableViewçš„ç”»å›¾åŒº"><a href="#9-è®¿é—®TableViewçš„ç”»å›¾åŒº" class="headerlink" title="9) è®¿é—®TableViewçš„ç”»å›¾åŒº"></a>9) è®¿é—®TableViewçš„ç”»å›¾åŒº</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">â€“ rectForSection: <span class="comment">// è¿”å›æŒ‡å®šsectionçš„çŸ©å½¢ </span></div><div class="line">â€“ rectForRowAtIndexPath: <span class="comment">//è¿”å›indexPathæŒ‡å®šè¡Œçš„çŸ©å½¢ </span></div><div class="line">â€“ rectForFooterInSection: <span class="comment">// è¿”å›sectionçš„footerçŸ©å½¢ </span></div><div class="line">â€“ rectForHeaderInSection: <span class="comment">// è¿”å›sectionçš„headerçŸ©å½¢</span></div></pre></td></tr></table></figure>
<h5 id="10ï¼‰å±•ç¤ºTableViewCellçš„ç®€å•åŠ¨ç”»æ•ˆæœ"><a href="#10ï¼‰å±•ç¤ºTableViewCellçš„ç®€å•åŠ¨ç”»æ•ˆæœ" class="headerlink" title="10ï¼‰å±•ç¤ºTableViewCellçš„ç®€å•åŠ¨ç”»æ•ˆæœ"></a>10ï¼‰å±•ç¤ºTableViewCellçš„ç®€å•åŠ¨ç”»æ•ˆæœ</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView willDisplayCell:(<span class="built_in">UITableViewCell</span> *)cell forRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</div><div class="line"></div><div class="line">    <span class="built_in">CATransform3D</span> rotation;</div><div class="line">    rotation = <span class="built_in">CATransform3DMakeRotation</span>( (<span class="number">90.0</span>*M_PI)/<span class="number">180</span>, <span class="number">0.0</span>, <span class="number">0.7</span>, <span class="number">0.4</span>);</div><div class="line">    rotation.m34 = <span class="number">1.0</span>/ <span class="number">-600</span>;</div><div class="line">    </div><div class="line">    cell.layer.shadowColor = [[<span class="built_in">UIColor</span> blackColor]<span class="built_in">CGColor</span>];</div><div class="line">    cell.layer.shadowOffset = <span class="built_in">CGSizeMake</span>(<span class="number">10</span>, <span class="number">10</span>);</div><div class="line">    cell.alpha = <span class="number">0</span>;</div><div class="line">    cell.layer.transform = rotation;</div><div class="line">    cell.layer.anchorPoint = <span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="number">0.5</span>);</div><div class="line">    </div><div class="line">    </div><div class="line">    [<span class="built_in">UIView</span> beginAnimations:<span class="string">@"rotation"</span> context:<span class="literal">NULL</span>];</div><div class="line">    [<span class="built_in">UIView</span> setAnimationDuration:<span class="number">0.8</span>];</div><div class="line">    cell.layer.transform = <span class="built_in">CATransform3DIdentity</span>;</div><div class="line">    cell.alpha = <span class="number">1</span>;</div><div class="line">    cell.layer.shadowOffset = <span class="built_in">CGSizeMake</span>(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    [<span class="built_in">UIView</span> commitAnimations];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/blog/2016/10/10/UITableViewIntro/" class="archive-article-date">
  	<time datetime="2016-10-10T09:21:32.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-10</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-DrawRectFunctions" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2016/10/09/DrawRectFunctions/">CoreGraphicsç»˜åˆ¶å„ç§å›¾å½¢çš„æ–¹æ³•ï¼šå†™æ–‡å­—ã€åˆ’çº¿ã€æ¤­åœ†ã€çŸ©å½¢ã€è±å½¢ç­‰</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="NO-1ç”»ä¸€æ¡çº¿"><a href="#NO-1ç”»ä¸€æ¡çº¿" class="headerlink" title="NO.1ç”»ä¸€æ¡çº¿"></a>NO.1ç”»ä¸€æ¡çº¿</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>);<span class="comment">//çº¿æ¡é¢œè‰²</span></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">20</span>, <span class="number">20</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">200</span>,<span class="number">20</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-2å†™æ–‡å­—"><a href="#NO-2å†™æ–‡å­—" class="headerlink" title="NO.2å†™æ–‡å­—"></a>NO.2å†™æ–‡å­—</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetRGBFillColor</span> (context, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>);</div><div class="line"><span class="built_in">UIFont</span> *font = [<span class="built_in">UIFont</span> boldSystemFontOfSize:<span class="number">18.0</span>];</div><div class="line">[<span class="string">@"å…¬å¸ï¼šåŒ—äº¬ä¸­è½¯ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸\néƒ¨é—¨ï¼šERPäº‹ä¸šéƒ¨\nå§“åï¼šMcLiang"</span> drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">20</span>, <span class="number">40</span>, <span class="number">280</span>, <span class="number">300</span>) withFont:font];</div></pre></td></tr></table></figure>
<h3 id="NO-3ç”»ä¸€ä¸ªæ­£æ–¹å½¢å›¾å½¢-æ²¡æœ‰è¾¹æ¡†"><a href="#NO-3ç”»ä¸€ä¸ªæ­£æ–¹å½¢å›¾å½¢-æ²¡æœ‰è¾¹æ¡†" class="headerlink" title="NO.3ç”»ä¸€ä¸ªæ­£æ–¹å½¢å›¾å½¢ æ²¡æœ‰è¾¹æ¡†"></a>NO.3ç”»ä¸€ä¸ªæ­£æ–¹å½¢å›¾å½¢ æ²¡æœ‰è¾¹æ¡†</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetRGBFillColor</span>(context, <span class="number">0</span>, <span class="number">0.25</span>, <span class="number">0</span>, <span class="number">0.5</span>);</div><div class="line"><span class="built_in">CGContextFillRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="number">270</span>, <span class="number">270</span>));</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-4ç”»æ­£æ–¹å½¢è¾¹æ¡†"><a href="#NO-4ç”»æ­£æ–¹å½¢è¾¹æ¡†" class="headerlink" title="NO.4ç”»æ­£æ–¹å½¢è¾¹æ¡†"></a>NO.4ç”»æ­£æ–¹å½¢è¾¹æ¡†</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>);<span class="comment">//çº¿æ¡é¢œè‰²</span></div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextAddRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="number">270</span>, <span class="number">270</span>));</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-5ç”»æ–¹å½¢èƒŒæ™¯é¢œè‰²"><a href="#NO-5ç”»æ–¹å½¢èƒŒæ™¯é¢œè‰²" class="headerlink" title="NO.5ç”»æ–¹å½¢èƒŒæ™¯é¢œè‰²"></a>NO.5ç”»æ–¹å½¢èƒŒæ™¯é¢œè‰²</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextTranslateCTM</span>(context, <span class="number">0.0</span>f, <span class="keyword">self</span>.bounds.size.height);</div><div class="line"><span class="built_in">CGContextScaleCTM</span>(context, <span class="number">1.0</span>f, <span class="number">-1.0</span>f);</div><div class="line"><span class="built_in">UIGraphicsPushContext</span>(context);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context,<span class="number">320</span>);</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">250.0</span>/<span class="number">255</span>, <span class="number">250.0</span>/<span class="number">255</span>, <span class="number">210.0</span>/<span class="number">255</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextStrokeRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">320</span>, <span class="number">460</span>));</div><div class="line"><span class="built_in">UIGraphicsPopContext</span>();</div></pre></td></tr></table></figure>
<h3 id="NO-6æ¤­åœ†"><a href="#NO-6æ¤­åœ†" class="headerlink" title="NO.6æ¤­åœ†"></a>NO.6æ¤­åœ†</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGRect</span> aRect= <span class="built_in">CGRectMake</span>(<span class="number">80</span>, <span class="number">80</span>, <span class="number">160</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.6</span>, <span class="number">0.9</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">3.0</span>);</div><div class="line"><span class="built_in">CGContextAddEllipseInRect</span>(context, aRect); <span class="comment">//æ¤­åœ†</span></div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathStroke);</div></pre></td></tr></table></figure>
<h3 id="NO-7å¼§çº¿"><a href="#NO-7å¼§çº¿" class="headerlink" title="NO.7å¼§çº¿"></a>NO.7å¼§çº¿</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="comment">//å¼§çº¿çš„æ˜¯é€šè¿‡æŒ‡å®šä¸¤ä¸ªåˆ‡ç‚¹ï¼Œè¿˜æœ‰è§’åº¦ï¼Œè°ƒç”¨CGContextAddArcToPoint()ç»˜åˆ¶</span></div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextAddArcToPoint</span>(context, <span class="number">100</span>,<span class="number">200</span>, <span class="number">300</span>,<span class="number">200</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-8æ¸å˜"><a href="#NO-8æ¸å˜" class="headerlink" title="NO.8æ¸å˜"></a>NO.8æ¸å˜</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextClip</span>(context);</div><div class="line"><span class="built_in">CGColorSpaceRef</span> rgb = <span class="built_in">CGColorSpaceCreateDeviceRGB</span>();</div><div class="line"><span class="built_in">CGFloat</span> colors[] =</div><div class="line">&#123;</div><div class="line"><span class="number">204.0</span> / <span class="number">255.0</span>, <span class="number">224.0</span> / <span class="number">255.0</span>, <span class="number">244.0</span> / <span class="number">255.0</span>, <span class="number">1.00</span>,</div><div class="line"><span class="number">29.0</span> / <span class="number">255.0</span>, <span class="number">156.0</span> / <span class="number">255.0</span>, <span class="number">215.0</span> / <span class="number">255.0</span>, <span class="number">1.00</span>,</div><div class="line"><span class="number">0.0</span> / <span class="number">255.0</span>, <span class="number">50.0</span> / <span class="number">255.0</span>, <span class="number">126.0</span> / <span class="number">255.0</span>, <span class="number">1.00</span>,</div><div class="line">&#125;;</div><div class="line"><span class="built_in">CGGradientRef</span> gradient = <span class="built_in">CGGradientCreateWithColorComponents</span></div><div class="line">(rgb, colors, <span class="literal">NULL</span>, <span class="keyword">sizeof</span>(colors)/(<span class="keyword">sizeof</span>(colors[<span class="number">0</span>])*<span class="number">4</span>));</div><div class="line"><span class="built_in">CGColorSpaceRelease</span>(rgb);</div><div class="line"><span class="built_in">CGContextDrawLinearGradient</span>(context, gradient,<span class="built_in">CGPointMake</span></div><div class="line">(<span class="number">0.0</span>,<span class="number">0.0</span>) ,<span class="built_in">CGPointMake</span>(<span class="number">0.0</span>,<span class="keyword">self</span>.frame.size.height),</div><div class="line">kCGGradientDrawsBeforeStartLocation);</div></pre></td></tr></table></figure>
<h3 id="NO-9å››æ¡çº¿ç”»ä¸€ä¸ªæ­£æ–¹å½¢"><a href="#NO-9å››æ¡çº¿ç”»ä¸€ä¸ªæ­£æ–¹å½¢" class="headerlink" title="NO.9å››æ¡çº¿ç”»ä¸€ä¸ªæ­£æ–¹å½¢"></a>NO.9å››æ¡çº¿ç”»ä¸€ä¸ªæ­£æ–¹å½¢</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ç”»çº¿</span></div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">UIColor</span> *aColor = [<span class="built_in">UIColor</span> colorWithRed:<span class="number">0</span> green:<span class="number">1.0</span> blue:<span class="number">0</span> alpha:<span class="number">0</span>];</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">1.0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, aColor.CGColor);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">4.0</span>);</div><div class="line"><span class="built_in">CGPoint</span> aPoints[<span class="number">5</span>];</div><div class="line">aPoints[<span class="number">0</span>] =<span class="built_in">CGPointMake</span>(<span class="number">60</span>, <span class="number">60</span>);</div><div class="line">aPoints[<span class="number">1</span>] =<span class="built_in">CGPointMake</span>(<span class="number">260</span>, <span class="number">60</span>);</div><div class="line">aPoints[<span class="number">2</span>] =<span class="built_in">CGPointMake</span>(<span class="number">260</span>, <span class="number">300</span>);</div><div class="line">aPoints[<span class="number">3</span>] =<span class="built_in">CGPointMake</span>(<span class="number">60</span>, <span class="number">300</span>);</div><div class="line">aPoints[<span class="number">4</span>] =<span class="built_in">CGPointMake</span>(<span class="number">60</span>, <span class="number">60</span>);</div><div class="line"><span class="built_in">CGContextAddLines</span>(context, aPoints, <span class="number">5</span>);</div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathStroke); <span class="comment">//å¼€å§‹ç”»çº¿</span></div></pre></td></tr></table></figure>
<h3 id="NO-10æ¤­åœ†"><a href="#NO-10æ¤­åœ†" class="headerlink" title="NO.10æ¤­åœ†"></a>NO.10æ¤­åœ†</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">UIColor</span> *aColor = [<span class="built_in">UIColor</span> colorWithRed:<span class="number">0</span> green:<span class="number">1.0</span> blue:<span class="number">0</span> alpha:<span class="number">0</span>];</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">1.0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, aColor.CGColor);</div><div class="line"></div><div class="line"><span class="built_in">CGRect</span> aRect= <span class="built_in">CGRectMake</span>(<span class="number">80</span>, <span class="number">80</span>, <span class="number">160</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.6</span>, <span class="number">0.9</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">3.0</span>);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, aColor.CGColor);</div><div class="line"><span class="built_in">CGContextAddRect</span>(context, rect); <span class="comment">//çŸ©å½¢</span></div><div class="line"><span class="built_in">CGContextAddEllipseInRect</span>(context, aRect); <span class="comment">//æ¤­åœ†</span></div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathStroke);</div></pre></td></tr></table></figure>
<h3 id="NO-11å®å¿ƒåœ†"><a href="#NO-11å®å¿ƒåœ†" class="headerlink" title="NO.11å®å¿ƒåœ†"></a>NO.11å®å¿ƒåœ†</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ç”»ä¸€ä¸ªå®å¿ƒçš„åœ†</div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextFillEllipseInRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">95</span>, <span class="number">95</span>, <span class="number">100.0</span>, <span class="number">100</span>));</div></pre></td></tr></table></figure>
<h3 id="NO-12"><a href="#NO-12" class="headerlink" title="NO.12"></a>NO.12</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">ç”»ä¸€ä¸ªè±å½¢</div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">150</span>, <span class="number">150</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">100</span>, <span class="number">200</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">50</span>, <span class="number">150</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-13-ç”»çŸ©å½¢"><a href="#NO-13-ç”»çŸ©å½¢" class="headerlink" title="NO.13 ç”»çŸ©å½¢"></a>NO.13 ç”»çŸ©å½¢</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGRect</span> rectangle = <span class="built_in">CGRectMake</span>(<span class="number">60</span>,<span class="number">170</span>,<span class="number">200</span>,<span class="number">80</span>);</div><div class="line"><span class="built_in">CGContextAddRect</span>(context, rectangle);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<p>###NO.11å¡«å……ä¸€ä¸ªè“è‰²è¾¹çš„çº¢è‰²çŸ©å½¢</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGRect</span> rectangle = <span class="built_in">CGRectMake</span>(<span class="number">60</span>,<span class="number">170</span>,<span class="number">200</span>,<span class="number">80</span>);</div><div class="line"><span class="built_in">CGContextAddRect</span>(context, rectangle);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, [<span class="built_in">UIColor</span> redColor].CGColor);</div><div class="line"><span class="built_in">CGContextFillRect</span>(context, rectangle);</div></pre></td></tr></table></figure>
<h3 id="NO-12ç»˜åˆ¶è´å…¹æ›²çº¿"><a href="#NO-12ç»˜åˆ¶è´å…¹æ›²çº¿" class="headerlink" title="NO.12ç»˜åˆ¶è´å…¹æ›²çº¿"></a>NO.12ç»˜åˆ¶è´å…¹æ›²çº¿</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//è´å…¹æ›²çº¿æ˜¯é€šè¿‡ç§»åŠ¨ä¸€ä¸ªèµ·å§‹ç‚¹ï¼Œç„¶åé€šè¿‡ä¸¤ä¸ªæ§åˆ¶ç‚¹,è¿˜æœ‰ä¸€ä¸ªä¸­æ­¢ç‚¹ï¼Œè°ƒç”¨</span></div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextAddCurveToPoint</span>() å‡½æ•°ç»˜åˆ¶</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line"><span class="built_in">CGContextAddCurveToPoint</span>(context, <span class="number">0</span>, <span class="number">50</span>, <span class="number">300</span>, <span class="number">250</span>, <span class="number">300</span>, <span class="number">400</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-13ç»˜åˆ¶äºŒæ¬¡è´å…¹æ›²çº¿"><a href="#NO-13ç»˜åˆ¶äºŒæ¬¡è´å…¹æ›²çº¿" class="headerlink" title="NO.13ç»˜åˆ¶äºŒæ¬¡è´å…¹æ›²çº¿"></a>NO.13ç»˜åˆ¶äºŒæ¬¡è´å…¹æ›²çº¿</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">10</span>, <span class="number">200</span>);</div><div class="line"><span class="built_in">CGContextAddQuadCurveToPoint</span>(context, <span class="number">150</span>, <span class="number">10</span>, <span class="number">300</span>, <span class="number">200</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-14ç»˜åˆ¶è™šçº¿"><a href="#NO-14ç»˜åˆ¶è™šçº¿" class="headerlink" title="NO.14ç»˜åˆ¶è™šçº¿"></a>NO.14ç»˜åˆ¶è™šçº¿</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">5.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGFloat</span> dashArray[] = &#123;<span class="number">2</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">2</span>&#125;;</div><div class="line"><span class="built_in">CGContextSetLineDash</span>(context, <span class="number">3</span>, dashArray, <span class="number">4</span>);<span class="comment">//è·³è¿‡3ä¸ªå†ç”»è™šçº¿ï¼Œæ‰€ä»¥åˆšå¼€å§‹æœ‰6-ï¼ˆ3-2ï¼‰=5ä¸ªè™šç‚¹</span></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">10</span>, <span class="number">200</span>);</div><div class="line"><span class="built_in">CGContextAddQuadCurveToPoint</span>(context, <span class="number">150</span>, <span class="number">10</span>, <span class="number">300</span>, <span class="number">200</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-15ç»˜åˆ¶å›¾ç‰‡"><a href="#NO-15ç»˜åˆ¶å›¾ç‰‡" class="headerlink" title="NO.15ç»˜åˆ¶å›¾ç‰‡"></a>NO.15ç»˜åˆ¶å›¾ç‰‡</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">NSString</span>* imagePath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span>* myImageObj = [[<span class="built_in">UIImage</span> alloc] initWithContentsOfFile:imagePath];</div><div class="line"><span class="comment">//[myImageObj drawAtPoint:CGPointMake(0, 0)];</span></div><div class="line">[myImageObj drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">320</span>, <span class="number">480</span>)];</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *s = <span class="string">@"æˆ‘çš„å°ç‹—"</span>;</div><div class="line"></div><div class="line">[s drawAtPoint:<span class="built_in">CGPointMake</span>(<span class="number">100</span>, <span class="number">0</span>) withFont:[<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">34.0</span>]];</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span> *img = [<span class="built_in">UIImage</span> imageWithContentsOfFile:path];</div><div class="line"><span class="built_in">CGImageRef</span> image = img.CGImage;</div><div class="line"><span class="built_in">CGContextSaveGState</span>(context);</div><div class="line"><span class="built_in">CGRect</span> touchRect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, img.size.width, img.size.height);</div><div class="line"><span class="built_in">CGContextDrawImage</span>(context, touchRect, image);</div><div class="line"><span class="built_in">CGContextRestoreGState</span>(context);</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span> *img = [<span class="built_in">UIImage</span> imageWithContentsOfFile:path];</div><div class="line"><span class="built_in">CGImageRef</span> image = img.CGImage;</div><div class="line"><span class="built_in">CGContextSaveGState</span>(context);</div><div class="line"></div><div class="line"><span class="built_in">CGContextRotateCTM</span>(context, M_PI);</div><div class="line"><span class="built_in">CGContextTranslateCTM</span>(context, -img.size.width, -img.size.height);</div><div class="line"></div><div class="line"><span class="built_in">CGRect</span> touchRect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, img.size.width, img.size.height);</div><div class="line"><span class="built_in">CGContextDrawImage</span>(context, touchRect, image);</div><div class="line"><span class="built_in">CGContextRestoreGState</span>(context);*/</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span> *img = [<span class="built_in">UIImage</span> imageWithContentsOfFile:path];</div><div class="line"><span class="built_in">CGImageRef</span> image = img.CGImage;</div><div class="line"></div><div class="line"><span class="built_in">CGContextSaveGState</span>(context);</div><div class="line"></div><div class="line"><span class="built_in">CGAffineTransform</span> myAffine = <span class="built_in">CGAffineTransformMakeRotation</span>(M_PI);</div><div class="line">myAffine = <span class="built_in">CGAffineTransformTranslate</span>(myAffine, -img.size.width, -img.size.height);</div><div class="line"><span class="built_in">CGContextConcatCTM</span>(context, myAffine);</div><div class="line"></div><div class="line"><span class="built_in">CGContextRotateCTM</span>(context, M_PI);</div><div class="line"><span class="built_in">CGContextTranslateCTM</span>(context, -img.size.width, -img.size.height);</div><div class="line"></div><div class="line"><span class="built_in">CGRect</span> touchRect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, img.size.width, img.size.height);</div><div class="line"><span class="built_in">CGContextDrawImage</span>(context, touchRect, image);</div><div class="line"><span class="built_in">CGContextRestoreGState</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-16ç”»åœ†è§’çŸ©å½¢"><a href="#NO-16ç”»åœ†è§’çŸ©å½¢" class="headerlink" title="NO.16ç”»åœ†è§’çŸ©å½¢"></a>NO.16ç”»åœ†è§’çŸ©å½¢</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"> <span class="comment">//	çŸ©å½¢çš„å®½å’Œé«˜</span></div><div class="line"><span class="built_in">CGFloat</span> width = <span class="number">100</span>;</div><div class="line"><span class="built_in">CGFloat</span> height = <span class="number">80</span>;</div><div class="line"><span class="comment">// ç®€ä¾¿èµ·è§ï¼Œè¿™é‡ŒæŠŠåœ†è§’åŠå¾„è®¾ç½®ä¸ºé•¿å’Œå®½å¹³å‡å€¼çš„1/10</span></div><div class="line"><span class="built_in">CGFloat</span> radius = (width + height) * <span class="number">0.05</span>;</div><div class="line"> </div><div class="line"><span class="comment">// è·å–CGContextï¼Œæ³¨æ„UIKité‡Œç”¨çš„æ˜¯ä¸€ä¸ªä¸“é—¨çš„å‡½æ•°</span></div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="comment">// ç§»åŠ¨åˆ°åˆå§‹ç‚¹</span></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, radius, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// ç»˜åˆ¶ç¬¬1æ¡çº¿å’Œç¬¬1ä¸ª1/4åœ†å¼§</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, width - radius, <span class="number">0</span>);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, width - radius, radius, radius, <span class="number">-0.5</span> * M_PI, <span class="number">0.0</span>, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// ç»˜åˆ¶ç¬¬2æ¡çº¿å’Œç¬¬2ä¸ª1/4åœ†å¼§</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, width, height - radius);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, width - radius, height - radius, radius, <span class="number">0.0</span>, <span class="number">0.5</span> * M_PI, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// ç»˜åˆ¶ç¬¬3æ¡çº¿å’Œç¬¬3ä¸ª1/4åœ†å¼§</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, radius, height);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, radius, height - radius, radius, <span class="number">0.5</span> * M_PI, M_PI, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// ç»˜åˆ¶ç¬¬4æ¡çº¿å’Œç¬¬4ä¸ª1/4åœ†å¼§</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">0</span>, radius);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, radius, radius, radius, M_PI, <span class="number">1.5</span> * M_PI, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// é—­åˆè·¯å¾„</span></div><div class="line"><span class="built_in">CGContextClosePath</span>(context);</div><div class="line"><span class="comment">// å¡«å……åŠé€æ˜é»‘è‰²</span></div><div class="line"><span class="built_in">CGContextSetRGBFillColor</span>(context, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.5</span>);</div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathFill);</div></pre></td></tr></table></figure>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/blog/2016/10/09/DrawRectFunctions/" class="archive-article-date">
  	<time datetime="2016-10-09T05:54:01.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-09</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 æ™¨æ˜Ÿã€é£
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: false,
		mathjax: false,
		animate: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/blog/",
		innerArchive: false
	}
</script>

<script src="/blog/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
    
    
      <li data-hook="tools-section-friends"><span class="text">å‹é“¾</span><i class="icon-link"></i></li>
    
    
  </ul>
  <div class="tools-wrap">
    

    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://developer.apple.com/news/">Apple Developer News</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://onevcat.com">Onevcatçš„åšå®¢</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.sunnyxx.com">Sunnyçš„åšå®¢</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.devtang.com">å”å·§çš„åšå®¢</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://kittenyang.com">æ¨éª‘æ»”çš„åšå®¢</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://ericasadun.com">Erica Sadunçš„åšå®¢</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://mikeash.com/pyblog/">Mike Ashçš„åšå®¢</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://jspahrsummers.com">ustin Spahr-Summersçš„åšå®¢</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://samvermette.com">Sam Vermetteçš„åšå®¢</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://ashfurrow.com">Ash Furrowçš„åšå®¢</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jessesquires.com">Jesse Squiresçš„åšå®¢</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://tech.meituan.com">ç¾å›¢ç‚¹è¯„æŠ€æœ¯åšå®¢</a>
  	        
  	        </div>
  		
    	</section>
    

    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>