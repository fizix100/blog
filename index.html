<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>晨星_风的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="晨星_风的博客">
<meta property="og:url" content="http://yoursite.com/blog/index.html">
<meta property="og:site_name" content="晨星_风的博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="晨星_风的博客">
  
  
  <script src="/blog/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://oerkxd2a0.bkt.clouddn.com/zizhan/1476063479228.png" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">晨星、风</a></h1>
		</hgroup>

		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/blog/blog">主页</a></li>
	        
				<li><a href="/blog/archives">所有文章</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">友情链接</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="http://github.com/fizix100" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="http://weibo.com/fizix100" title="weibo">weibo</a>
		        
					<a class="zhihu" target="_blank" href="http://zhihu.com/people/fizix100" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">晨星、风</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="/blog/http://oerkxd2a0.bkt.clouddn.com/zizhan/1476063479228.png" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
				
			</div>
			<hgroup>
			  <h1 class="header-author">晨星、风</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/blog/blog">主页</a></li>
		        
					<li><a href="/blog/archives">所有文章</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="http://github.com/fizix100" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/fizix100" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="http://zhihu.com/people/fizix100" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-UITableViewIntro" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2016/10/10/UITableViewIntro/">UITableView常用方法简介</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>UITableView是iOS开发必不可少也是最重要的一个控件类之一。iOS开发者都需要熟练使用和掌握它。本文主要介绍一下UITableView的一些常用方法。</p>
<blockquote>
<p>UITableView 的官方文档：<a href="https://developer.apple.com/reference/uikit/uitableview?language=objc" target="_blank" rel="external">Apple开发者文档</a></p>
</blockquote>
<h5 id="1-初始化-UITableView对象"><a href="#1-初始化-UITableView对象" class="headerlink" title="1) 初始化 UITableView对象"></a>1) 初始化 UITableView对象</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">initWithFrame:style:	<span class="comment">//初始化方法，用xib的话不需要调用</span></div></pre></td></tr></table></figure>
<h5 id="2-配置TableView"><a href="#2-配置TableView" class="headerlink" title="2)配置TableView"></a>2)配置TableView</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">style <span class="comment">// 有两种 UITableViewStylePlain,UITableViewStyleGrouped</span></div><div class="line">numberOfRowsInSection:  <span class="comment">// section内row的数量</span></div><div class="line">numberOfSections  <span class="comment">// section数量</span></div><div class="line">rowHeight <span class="comment">// 行高，固定行高可用，性能比delegate方法好 </span></div><div class="line">separatorStyle <span class="comment">// cell分割线风格</span></div><div class="line">separatorColor <span class="comment">// cell分割线颜色 </span></div><div class="line">backgroundView <span class="comment">// tableview的背景view, 这个背景view在所有cell, header views, footer views之后 </span></div><div class="line">tableHeaderView <span class="comment">// tableview上方的headerView</span></div><div class="line">tableFooterView <span class="comment">// tableview下方的footerview </span></div><div class="line">sectionHeaderHeight <span class="comment">// section Header的高度， </span></div><div class="line">sectionFooterHeight <span class="comment">// section Footer的高度 </span></div><div class="line">sectionIndexMinimumDisplayRowCount <span class="comment">//  在tableview右侧展示索引的最小行数要求</span></div></pre></td></tr></table></figure>
<h5 id="3）-访问Cells和Sections"><a href="#3）-访问Cells和Sections" class="headerlink" title="3） 访问Cells和Sections"></a>3） 访问Cells和Sections</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">– cellForRowAtIndexPath: <span class="comment">//根据IndexPath返回cell </span></div><div class="line">– indexPathForCell: <span class="comment">//根据cell返回它的indexPath,和上面的方法互补 </span></div><div class="line">– indexPathForRowAtPoint:<span class="comment">//根据一个几何点返回indexPath,如果超过边界返回nil </span></div><div class="line">– indexPathsForRowsInRect: <span class="comment">//根据一个几何的矩形返回矩形所覆盖的行,返回是一个indexPath数组 </span></div><div class="line">– visibleCells <span class="comment">// 当前视图下可见cell</span></div><div class="line">– indexPathsForVisibleRows <span class="comment">// 当前视图下可见cell的序列</span></div></pre></td></tr></table></figure>
<h5 id="4-滚动TableView"><a href="#4-滚动TableView" class="headerlink" title="4) 滚动TableView"></a>4) 滚动TableView</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">– scrollToRowAtIndexPath:atScrollPosition:animated: <span class="comment">// 滚动到指定位置 </span></div><div class="line">– scrollToNearestSelectedRowAtScrollPosition:animated: <span class="comment">// 同上</span></div></pre></td></tr></table></figure>
<h5 id="5-管理sections"><a href="#5-管理sections" class="headerlink" title="5) 管理sections"></a>5) 管理sections</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">– indexPathForSelectedRow <span class="comment">//返回选定行的indexPath,单行 </span></div><div class="line">– indexPathsForSelectedRows <span class="comment">//返回选定行的indexPath数组，多行 </span></div><div class="line">– selectRowAtIndexPath:animated:scrollPosition: <span class="comment">//根据indexPath选择一行 </span></div><div class="line">– deselectRowAtIndexPath:animated: <span class="comment">//反选一行，有何用？ </span></div><div class="line">  allowsSelection <span class="comment">//是否允许用户选取一行 </span></div><div class="line">  allowsMultipleSelection <span class="comment">// 是否选取多行，缺省为NO. 可以试试YES后的效果，哈哈 </span></div><div class="line">  allowsSelectionDuringEditing <span class="comment">// 编辑模式时是否可选取一行 </span></div><div class="line">  allowsMultipleSelectionDuringEditing <span class="comment">// 编辑模式时可否选取多行</span></div></pre></td></tr></table></figure>
<h5 id="6-插入、删除、移动行和sections"><a href="#6-插入、删除、移动行和sections" class="headerlink" title="6) 插入、删除、移动行和sections"></a>6) 插入、删除、移动行和sections</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">– beginUpdates <span class="comment">// 和endUpdates一起用，让插入、删除、选择操作同时动画，没用过 </span></div><div class="line">– endUpdates <span class="comment">// </span></div><div class="line">– insertRowsAtIndexPaths:withRowAnimation: <span class="comment">//根据indexPath数组插入行 </span></div><div class="line">– deleteRowsAtIndexPaths:withRowAnimation: <span class="comment">//根据indexPath数组删除行 </span></div><div class="line">– moveRowAtIndexPath:toIndexPath: <span class="comment">//移动一行到另一行 </span></div><div class="line">– insertSections:withRowAnimation: <span class="comment">//插入sections </span></div><div class="line">– deleteSections:withRowAnimation: <span class="comment">//删除sections </span></div><div class="line">– moveSection:toSection: <span class="comment">//移动section</span></div></pre></td></tr></table></figure>
<h5 id="7-管理和编辑cell"><a href="#7-管理和编辑cell" class="headerlink" title="7) 管理和编辑cell"></a>7) 管理和编辑cell</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">  editing  <span class="comment">// YES进入编辑模式，tableview cell会出现插入、删除、重排序的控件 </span></div><div class="line">– setEditing:animated: <span class="comment">//设置进入退出编辑模式</span></div></pre></td></tr></table></figure>
<h5 id="8-重新加载TableView"><a href="#8-重新加载TableView" class="headerlink" title="8) 重新加载TableView"></a>8) 重新加载TableView</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">– reloadData <span class="comment">// 刷新整个表，包括cells、header、footer，indexs </span></div><div class="line">– reloadRowsAtIndexPaths:withRowAnimation: <span class="comment">// 刷新指定行 </span></div><div class="line">– reloadSections:withRowAnimation: <span class="comment">// 刷新指定组</span></div><div class="line">– reloadSectionIndexTitles <span class="comment">// 刷新组标题</span></div></pre></td></tr></table></figure>
<h5 id="9-访问TableView的画图区"><a href="#9-访问TableView的画图区" class="headerlink" title="9) 访问TableView的画图区"></a>9) 访问TableView的画图区</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">– rectForSection: <span class="comment">// 返回指定section的矩形 </span></div><div class="line">– rectForRowAtIndexPath: <span class="comment">//返回indexPath指定行的矩形 </span></div><div class="line">– rectForFooterInSection: <span class="comment">// 返回section的footer矩形 </span></div><div class="line">– rectForHeaderInSection: <span class="comment">// 返回section的header矩形</span></div></pre></td></tr></table></figure>
<h5 id="10）展示TableViewCell的简单动画效果"><a href="#10）展示TableViewCell的简单动画效果" class="headerlink" title="10）展示TableViewCell的简单动画效果"></a>10）展示TableViewCell的简单动画效果</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView willDisplayCell:(<span class="built_in">UITableViewCell</span> *)cell forRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath&#123;</div><div class="line"></div><div class="line">    <span class="built_in">CATransform3D</span> rotation;</div><div class="line">    rotation = <span class="built_in">CATransform3DMakeRotation</span>( (<span class="number">90.0</span>*M_PI)/<span class="number">180</span>, <span class="number">0.0</span>, <span class="number">0.7</span>, <span class="number">0.4</span>);</div><div class="line">    rotation.m34 = <span class="number">1.0</span>/ <span class="number">-600</span>;</div><div class="line">    </div><div class="line">    cell.layer.shadowColor = [[<span class="built_in">UIColor</span> blackColor]<span class="built_in">CGColor</span>];</div><div class="line">    cell.layer.shadowOffset = <span class="built_in">CGSizeMake</span>(<span class="number">10</span>, <span class="number">10</span>);</div><div class="line">    cell.alpha = <span class="number">0</span>;</div><div class="line">    cell.layer.transform = rotation;</div><div class="line">    cell.layer.anchorPoint = <span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="number">0.5</span>);</div><div class="line">    </div><div class="line">    </div><div class="line">    [<span class="built_in">UIView</span> beginAnimations:<span class="string">@"rotation"</span> context:<span class="literal">NULL</span>];</div><div class="line">    [<span class="built_in">UIView</span> setAnimationDuration:<span class="number">0.8</span>];</div><div class="line">    cell.layer.transform = <span class="built_in">CATransform3DIdentity</span>;</div><div class="line">    cell.alpha = <span class="number">1</span>;</div><div class="line">    cell.layer.shadowOffset = <span class="built_in">CGSizeMake</span>(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    [<span class="built_in">UIView</span> commitAnimations];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/blog/2016/10/10/UITableViewIntro/" class="archive-article-date">
  	<time datetime="2016-10-10T09:21:32.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-10</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-DrawRectFunctions" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2016/10/09/DrawRectFunctions/">CoreGraphics绘制各种图形的方法：写文字、划线、椭圆、矩形、菱形等</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="NO-1画一条线"><a href="#NO-1画一条线" class="headerlink" title="NO.1画一条线"></a>NO.1画一条线</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>);<span class="comment">//线条颜色</span></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">20</span>, <span class="number">20</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">200</span>,<span class="number">20</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-2写文字"><a href="#NO-2写文字" class="headerlink" title="NO.2写文字"></a>NO.2写文字</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetRGBFillColor</span> (context, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>);</div><div class="line"><span class="built_in">UIFont</span> *font = [<span class="built_in">UIFont</span> boldSystemFontOfSize:<span class="number">18.0</span>];</div><div class="line">[<span class="string">@"公司：北京中软科技股份有限公司\n部门：ERP事业部\n姓名：McLiang"</span> drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">20</span>, <span class="number">40</span>, <span class="number">280</span>, <span class="number">300</span>) withFont:font];</div></pre></td></tr></table></figure>
<h3 id="NO-3画一个正方形图形-没有边框"><a href="#NO-3画一个正方形图形-没有边框" class="headerlink" title="NO.3画一个正方形图形 没有边框"></a>NO.3画一个正方形图形 没有边框</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetRGBFillColor</span>(context, <span class="number">0</span>, <span class="number">0.25</span>, <span class="number">0</span>, <span class="number">0.5</span>);</div><div class="line"><span class="built_in">CGContextFillRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="number">270</span>, <span class="number">270</span>));</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-4画正方形边框"><a href="#NO-4画正方形边框" class="headerlink" title="NO.4画正方形边框"></a>NO.4画正方形边框</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>);<span class="comment">//线条颜色</span></div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextAddRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="number">270</span>, <span class="number">270</span>));</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-5画方形背景颜色"><a href="#NO-5画方形背景颜色" class="headerlink" title="NO.5画方形背景颜色"></a>NO.5画方形背景颜色</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextTranslateCTM</span>(context, <span class="number">0.0</span>f, <span class="keyword">self</span>.bounds.size.height);</div><div class="line"><span class="built_in">CGContextScaleCTM</span>(context, <span class="number">1.0</span>f, <span class="number">-1.0</span>f);</div><div class="line"><span class="built_in">UIGraphicsPushContext</span>(context);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context,<span class="number">320</span>);</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">250.0</span>/<span class="number">255</span>, <span class="number">250.0</span>/<span class="number">255</span>, <span class="number">210.0</span>/<span class="number">255</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextStrokeRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">320</span>, <span class="number">460</span>));</div><div class="line"><span class="built_in">UIGraphicsPopContext</span>();</div></pre></td></tr></table></figure>
<h3 id="NO-6椭圆"><a href="#NO-6椭圆" class="headerlink" title="NO.6椭圆"></a>NO.6椭圆</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGRect</span> aRect= <span class="built_in">CGRectMake</span>(<span class="number">80</span>, <span class="number">80</span>, <span class="number">160</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.6</span>, <span class="number">0.9</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">3.0</span>);</div><div class="line"><span class="built_in">CGContextAddEllipseInRect</span>(context, aRect); <span class="comment">//椭圆</span></div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathStroke);</div></pre></td></tr></table></figure>
<h3 id="NO-7弧线"><a href="#NO-7弧线" class="headerlink" title="NO.7弧线"></a>NO.7弧线</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="comment">//弧线的是通过指定两个切点，还有角度，调用CGContextAddArcToPoint()绘制</span></div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextAddArcToPoint</span>(context, <span class="number">100</span>,<span class="number">200</span>, <span class="number">300</span>,<span class="number">200</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-8渐变"><a href="#NO-8渐变" class="headerlink" title="NO.8渐变"></a>NO.8渐变</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextClip</span>(context);</div><div class="line"><span class="built_in">CGColorSpaceRef</span> rgb = <span class="built_in">CGColorSpaceCreateDeviceRGB</span>();</div><div class="line"><span class="built_in">CGFloat</span> colors[] =</div><div class="line">&#123;</div><div class="line"><span class="number">204.0</span> / <span class="number">255.0</span>, <span class="number">224.0</span> / <span class="number">255.0</span>, <span class="number">244.0</span> / <span class="number">255.0</span>, <span class="number">1.00</span>,</div><div class="line"><span class="number">29.0</span> / <span class="number">255.0</span>, <span class="number">156.0</span> / <span class="number">255.0</span>, <span class="number">215.0</span> / <span class="number">255.0</span>, <span class="number">1.00</span>,</div><div class="line"><span class="number">0.0</span> / <span class="number">255.0</span>, <span class="number">50.0</span> / <span class="number">255.0</span>, <span class="number">126.0</span> / <span class="number">255.0</span>, <span class="number">1.00</span>,</div><div class="line">&#125;;</div><div class="line"><span class="built_in">CGGradientRef</span> gradient = <span class="built_in">CGGradientCreateWithColorComponents</span></div><div class="line">(rgb, colors, <span class="literal">NULL</span>, <span class="keyword">sizeof</span>(colors)/(<span class="keyword">sizeof</span>(colors[<span class="number">0</span>])*<span class="number">4</span>));</div><div class="line"><span class="built_in">CGColorSpaceRelease</span>(rgb);</div><div class="line"><span class="built_in">CGContextDrawLinearGradient</span>(context, gradient,<span class="built_in">CGPointMake</span></div><div class="line">(<span class="number">0.0</span>,<span class="number">0.0</span>) ,<span class="built_in">CGPointMake</span>(<span class="number">0.0</span>,<span class="keyword">self</span>.frame.size.height),</div><div class="line">kCGGradientDrawsBeforeStartLocation);</div></pre></td></tr></table></figure>
<h3 id="NO-9四条线画一个正方形"><a href="#NO-9四条线画一个正方形" class="headerlink" title="NO.9四条线画一个正方形"></a>NO.9四条线画一个正方形</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//画线</span></div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">UIColor</span> *aColor = [<span class="built_in">UIColor</span> colorWithRed:<span class="number">0</span> green:<span class="number">1.0</span> blue:<span class="number">0</span> alpha:<span class="number">0</span>];</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">1.0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, aColor.CGColor);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">4.0</span>);</div><div class="line"><span class="built_in">CGPoint</span> aPoints[<span class="number">5</span>];</div><div class="line">aPoints[<span class="number">0</span>] =<span class="built_in">CGPointMake</span>(<span class="number">60</span>, <span class="number">60</span>);</div><div class="line">aPoints[<span class="number">1</span>] =<span class="built_in">CGPointMake</span>(<span class="number">260</span>, <span class="number">60</span>);</div><div class="line">aPoints[<span class="number">2</span>] =<span class="built_in">CGPointMake</span>(<span class="number">260</span>, <span class="number">300</span>);</div><div class="line">aPoints[<span class="number">3</span>] =<span class="built_in">CGPointMake</span>(<span class="number">60</span>, <span class="number">300</span>);</div><div class="line">aPoints[<span class="number">4</span>] =<span class="built_in">CGPointMake</span>(<span class="number">60</span>, <span class="number">60</span>);</div><div class="line"><span class="built_in">CGContextAddLines</span>(context, aPoints, <span class="number">5</span>);</div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathStroke); <span class="comment">//开始画线</span></div></pre></td></tr></table></figure>
<h3 id="NO-10椭圆"><a href="#NO-10椭圆" class="headerlink" title="NO.10椭圆"></a>NO.10椭圆</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">UIColor</span> *aColor = [<span class="built_in">UIColor</span> colorWithRed:<span class="number">0</span> green:<span class="number">1.0</span> blue:<span class="number">0</span> alpha:<span class="number">0</span>];</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">1.0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, aColor.CGColor);</div><div class="line"></div><div class="line"><span class="built_in">CGRect</span> aRect= <span class="built_in">CGRectMake</span>(<span class="number">80</span>, <span class="number">80</span>, <span class="number">160</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.6</span>, <span class="number">0.9</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">3.0</span>);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, aColor.CGColor);</div><div class="line"><span class="built_in">CGContextAddRect</span>(context, rect); <span class="comment">//矩形</span></div><div class="line"><span class="built_in">CGContextAddEllipseInRect</span>(context, aRect); <span class="comment">//椭圆</span></div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathStroke);</div></pre></td></tr></table></figure>
<h3 id="NO-11实心圆"><a href="#NO-11实心圆" class="headerlink" title="NO.11实心圆"></a>NO.11实心圆</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">画一个实心的圆</div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextFillEllipseInRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">95</span>, <span class="number">95</span>, <span class="number">100.0</span>, <span class="number">100</span>));</div></pre></td></tr></table></figure>
<h3 id="NO-12"><a href="#NO-12" class="headerlink" title="NO.12"></a>NO.12</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">画一个菱形</div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">150</span>, <span class="number">150</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">100</span>, <span class="number">200</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">50</span>, <span class="number">150</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-13-画矩形"><a href="#NO-13-画矩形" class="headerlink" title="NO.13 画矩形"></a>NO.13 画矩形</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"></div><div class="line"><span class="built_in">CGRect</span> rectangle = <span class="built_in">CGRectMake</span>(<span class="number">60</span>,<span class="number">170</span>,<span class="number">200</span>,<span class="number">80</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextAddRect</span>(context, rectangle);</div><div class="line"></div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<p>###NO.11填充一个蓝色边的红色矩形<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGRect</span> rectangle = <span class="built_in">CGRectMake</span>(<span class="number">60</span>,<span class="number">170</span>,<span class="number">200</span>,<span class="number">80</span>);</div><div class="line"><span class="built_in">CGContextAddRect</span>(context, rectangle);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, [<span class="built_in">UIColor</span> redColor].CGColor);</div><div class="line"><span class="built_in">CGContextFillRect</span>(context, rectangle);</div></pre></td></tr></table></figure></p>
<h3 id="NO-12绘制贝兹曲线"><a href="#NO-12绘制贝兹曲线" class="headerlink" title="NO.12绘制贝兹曲线"></a>NO.12绘制贝兹曲线</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//贝兹曲线是通过移动一个起始点，然后通过两个控制点,还有一个中止点，调用</span></div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();<span class="built_in">CGContextAddCurveToPoint</span>() 函数绘制</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextAddCurveToPoint</span>(context, <span class="number">0</span>, <span class="number">50</span>, <span class="number">300</span>, <span class="number">250</span>, <span class="number">300</span>, <span class="number">400</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-13绘制二次贝兹曲线"><a href="#NO-13绘制二次贝兹曲线" class="headerlink" title="NO.13绘制二次贝兹曲线"></a>NO.13绘制二次贝兹曲线</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">10</span>, <span class="number">200</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextAddQuadCurveToPoint</span>(context, <span class="number">150</span>, <span class="number">10</span>, <span class="number">300</span>, <span class="number">200</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-14绘制虚线"><a href="#NO-14绘制虚线" class="headerlink" title="NO.14绘制虚线"></a>NO.14绘制虚线</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">5.0</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"></div><div class="line"><span class="built_in">CGFloat</span> dashArray[] = &#123;<span class="number">2</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">2</span>&#125;;</div><div class="line"></div><div class="line"><span class="built_in">CGContextSetLineDash</span>(context, <span class="number">3</span>, dashArray, <span class="number">4</span>);<span class="comment">//跳过3个再画虚线，所以刚开始有6-（3-2）=5个虚点</span></div><div class="line"></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">10</span>, <span class="number">200</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextAddQuadCurveToPoint</span>(context, <span class="number">150</span>, <span class="number">10</span>, <span class="number">300</span>, <span class="number">200</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-15绘制图片"><a href="#NO-15绘制图片" class="headerlink" title="NO.15绘制图片"></a>NO.15绘制图片</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">NSString</span>* imagePath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span>* myImageObj = [[<span class="built_in">UIImage</span> alloc] initWithContentsOfFile:imagePath];</div><div class="line"><span class="comment">//[myImageObj drawAtPoint:CGPointMake(0, 0)];</span></div><div class="line">[myImageObj drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">320</span>, <span class="number">480</span>)];</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *s = <span class="string">@"我的小狗"</span>;</div><div class="line"></div><div class="line">[s drawAtPoint:<span class="built_in">CGPointMake</span>(<span class="number">100</span>, <span class="number">0</span>) withFont:[<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">34.0</span>]];</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span> *img = [<span class="built_in">UIImage</span> imageWithContentsOfFile:path];</div><div class="line"><span class="built_in">CGImageRef</span> image = img.CGImage;</div><div class="line"><span class="built_in">CGContextSaveGState</span>(context);</div><div class="line"><span class="built_in">CGRect</span> touchRect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, img.size.width, img.size.height);</div><div class="line"><span class="built_in">CGContextDrawImage</span>(context, touchRect, image);</div><div class="line"><span class="built_in">CGContextRestoreGState</span>(context);</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span> *img = [<span class="built_in">UIImage</span> imageWithContentsOfFile:path];</div><div class="line"><span class="built_in">CGImageRef</span> image = img.CGImage;</div><div class="line"><span class="built_in">CGContextSaveGState</span>(context);</div><div class="line"></div><div class="line"><span class="built_in">CGContextRotateCTM</span>(context, M_PI);</div><div class="line"><span class="built_in">CGContextTranslateCTM</span>(context, -img.size.width, -img.size.height);</div><div class="line"></div><div class="line"><span class="built_in">CGRect</span> touchRect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, img.size.width, img.size.height);</div><div class="line"><span class="built_in">CGContextDrawImage</span>(context, touchRect, image);</div><div class="line"><span class="built_in">CGContextRestoreGState</span>(context);*/</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span> *img = [<span class="built_in">UIImage</span> imageWithContentsOfFile:path];</div><div class="line"><span class="built_in">CGImageRef</span> image = img.CGImage;</div><div class="line"></div><div class="line"><span class="built_in">CGContextSaveGState</span>(context);</div><div class="line"></div><div class="line"><span class="built_in">CGAffineTransform</span> myAffine = <span class="built_in">CGAffineTransformMakeRotation</span>(M_PI);</div><div class="line">myAffine = <span class="built_in">CGAffineTransformTranslate</span>(myAffine, -img.size.width, -img.size.height);</div><div class="line"><span class="built_in">CGContextConcatCTM</span>(context, myAffine);</div><div class="line"></div><div class="line"><span class="built_in">CGContextRotateCTM</span>(context, M_PI);</div><div class="line"><span class="built_in">CGContextTranslateCTM</span>(context, -img.size.width, -img.size.height);</div><div class="line"></div><div class="line"><span class="built_in">CGRect</span> touchRect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, img.size.width, img.size.height);</div><div class="line"><span class="built_in">CGContextDrawImage</span>(context, touchRect, image);</div><div class="line"><span class="built_in">CGContextRestoreGState</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-16画圆角矩形"><a href="#NO-16画圆角矩形" class="headerlink" title="NO.16画圆角矩形"></a>NO.16画圆角矩形</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"> <span class="comment">//	矩形的宽和高</span></div><div class="line"><span class="built_in">CGFloat</span> width = <span class="number">100</span>;</div><div class="line"><span class="built_in">CGFloat</span> height = <span class="number">80</span>;</div><div class="line"><span class="comment">// 简便起见，这里把圆角半径设置为长和宽平均值的1/10</span></div><div class="line"><span class="built_in">CGFloat</span> radius = (width + height) * <span class="number">0.05</span>;</div><div class="line"> </div><div class="line"><span class="comment">// 获取CGContext，注意UIKit里用的是一个专门的函数</span></div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="comment">// 移动到初始点</span></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, radius, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// 绘制第1条线和第1个1/4圆弧</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, width - radius, <span class="number">0</span>);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, width - radius, radius, radius, <span class="number">-0.5</span> * M_PI, <span class="number">0.0</span>, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// 绘制第2条线和第2个1/4圆弧</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, width, height - radius);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, width - radius, height - radius, radius, <span class="number">0.0</span>, <span class="number">0.5</span> * M_PI, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// 绘制第3条线和第3个1/4圆弧</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, radius, height);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, radius, height - radius, radius, <span class="number">0.5</span> * M_PI, M_PI, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// 绘制第4条线和第4个1/4圆弧</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">0</span>, radius);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, radius, radius, radius, M_PI, <span class="number">1.5</span> * M_PI, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// 闭合路径</span></div><div class="line"><span class="built_in">CGContextClosePath</span>(context);</div><div class="line"><span class="comment">// 填充半透明黑色</span></div><div class="line"><span class="built_in">CGContextSetRGBFillColor</span>(context, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.5</span>);</div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathFill);</div></pre></td></tr></table></figure>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/blog/2016/10/09/DrawRectFunctions/" class="archive-article-date">
  	<time datetime="2016-10-09T05:54:01.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-09</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 晨星、风
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: false,
		mathjax: false,
		animate: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/blog/",
		innerArchive: false
	}
</script>

<script src="/blog/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
  </ul>
  <div class="tools-wrap">
    

    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://developer.apple.com/news/">AppleDeveloperNews</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://www.objccn.io">Objc中国</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.sunnyxx.com">Sunny的博客</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.devtang.com">唐巧的博客</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.cocoachina.com/ios/index.html">CocoaChina</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://nshipster.cn">NSHipster</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jianshu.com">简书</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.zhihu.com">知乎</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://segmentfault.com">SegmentFault</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://stackoverflow.com/questions/tagged/ios">stackoverflow</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.code4app.com">Code4App</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.ui4app.com">UI4App</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.iconfont.cn">IconFont</a>
  	        
  	        </div>
  		
    	</section>
    

    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>