<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>CoreGraphics绘制各种图形的方法：写文字、划线、椭圆、矩形、菱形等 | 晨星_风的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="NO.1画一条线12345CGContextRef context = UIGraphicsGetCurrentContext();CGContextSetRGBStrokeColor(context, 0.5, 0.5, 0.5, 0.5);//线条颜色CGContextMoveToPoint(context, 20, 20);CGContextAddLineToPoint(context, 2">
<meta property="og:type" content="article">
<meta property="og:title" content="CoreGraphics绘制各种图形的方法：写文字、划线、椭圆、矩形、菱形等">
<meta property="og:url" content="http://yoursite.com/blog/2016/10/09/DrawRectFunctions/index.html">
<meta property="og:site_name" content="晨星_风的博客">
<meta property="og:description" content="NO.1画一条线12345CGContextRef context = UIGraphicsGetCurrentContext();CGContextSetRGBStrokeColor(context, 0.5, 0.5, 0.5, 0.5);//线条颜色CGContextMoveToPoint(context, 20, 20);CGContextAddLineToPoint(context, 2">
<meta property="og:updated_time" content="2016-10-10T08:43:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CoreGraphics绘制各种图形的方法：写文字、划线、椭圆、矩形、菱形等">
<meta name="twitter:description" content="NO.1画一条线12345CGContextRef context = UIGraphicsGetCurrentContext();CGContextSetRGBStrokeColor(context, 0.5, 0.5, 0.5, 0.5);//线条颜色CGContextMoveToPoint(context, 20, 20);CGContextAddLineToPoint(context, 2">
  
  
  <script src="/blog/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://oerkxd2a0.bkt.clouddn.com/zizhan/1476063479228.png" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">晨星、风</a></h1>
		</hgroup>

		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/blog/blog">主页</a></li>
	        
				<li><a href="/blog/archives">所有文章</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">友情链接</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="http://github.com/fizix100" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="http://weibo.com/fizix100" title="weibo">weibo</a>
		        
					<a class="zhihu" target="_blank" href="http://zhihu.com/people/fizix100" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">晨星、风</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="/blog/http://oerkxd2a0.bkt.clouddn.com/zizhan/1476063479228.png" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
				
			</div>
			<hgroup>
			  <h1 class="header-author">晨星、风</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/blog/blog">主页</a></li>
		        
					<li><a href="/blog/archives">所有文章</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="http://github.com/fizix100" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/fizix100" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="http://zhihu.com/people/fizix100" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-DrawRectFunctions" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      CoreGraphics绘制各种图形的方法：写文字、划线、椭圆、矩形、菱形等
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="NO-1画一条线"><a href="#NO-1画一条线" class="headerlink" title="NO.1画一条线"></a>NO.1画一条线</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>);<span class="comment">//线条颜色</span></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">20</span>, <span class="number">20</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">200</span>,<span class="number">20</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-2写文字"><a href="#NO-2写文字" class="headerlink" title="NO.2写文字"></a>NO.2写文字</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetRGBFillColor</span> (context, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>);</div><div class="line"><span class="built_in">UIFont</span> *font = [<span class="built_in">UIFont</span> boldSystemFontOfSize:<span class="number">18.0</span>];</div><div class="line">[<span class="string">@"公司：北京中软科技股份有限公司\n部门：ERP事业部\n姓名：McLiang"</span> drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">20</span>, <span class="number">40</span>, <span class="number">280</span>, <span class="number">300</span>) withFont:font];</div></pre></td></tr></table></figure>
<h3 id="NO-3画一个正方形图形-没有边框"><a href="#NO-3画一个正方形图形-没有边框" class="headerlink" title="NO.3画一个正方形图形 没有边框"></a>NO.3画一个正方形图形 没有边框</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetRGBFillColor</span>(context, <span class="number">0</span>, <span class="number">0.25</span>, <span class="number">0</span>, <span class="number">0.5</span>);</div><div class="line"><span class="built_in">CGContextFillRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="number">270</span>, <span class="number">270</span>));</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-4画正方形边框"><a href="#NO-4画正方形边框" class="headerlink" title="NO.4画正方形边框"></a>NO.4画正方形边框</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>);<span class="comment">//线条颜色</span></div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextAddRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="number">270</span>, <span class="number">270</span>));</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-5画方形背景颜色"><a href="#NO-5画方形背景颜色" class="headerlink" title="NO.5画方形背景颜色"></a>NO.5画方形背景颜色</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextTranslateCTM</span>(context, <span class="number">0.0</span>f, <span class="keyword">self</span>.bounds.size.height);</div><div class="line"><span class="built_in">CGContextScaleCTM</span>(context, <span class="number">1.0</span>f, <span class="number">-1.0</span>f);</div><div class="line"><span class="built_in">UIGraphicsPushContext</span>(context);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context,<span class="number">320</span>);</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">250.0</span>/<span class="number">255</span>, <span class="number">250.0</span>/<span class="number">255</span>, <span class="number">210.0</span>/<span class="number">255</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextStrokeRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">320</span>, <span class="number">460</span>));</div><div class="line"><span class="built_in">UIGraphicsPopContext</span>();</div></pre></td></tr></table></figure>
<h3 id="NO-6椭圆"><a href="#NO-6椭圆" class="headerlink" title="NO.6椭圆"></a>NO.6椭圆</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGRect</span> aRect= <span class="built_in">CGRectMake</span>(<span class="number">80</span>, <span class="number">80</span>, <span class="number">160</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.6</span>, <span class="number">0.9</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">3.0</span>);</div><div class="line"><span class="built_in">CGContextAddEllipseInRect</span>(context, aRect); <span class="comment">//椭圆</span></div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathStroke);</div></pre></td></tr></table></figure>
<h3 id="NO-7弧线"><a href="#NO-7弧线" class="headerlink" title="NO.7弧线"></a>NO.7弧线</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="comment">//弧线的是通过指定两个切点，还有角度，调用CGContextAddArcToPoint()绘制</span></div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextAddArcToPoint</span>(context, <span class="number">100</span>,<span class="number">200</span>, <span class="number">300</span>,<span class="number">200</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-8渐变"><a href="#NO-8渐变" class="headerlink" title="NO.8渐变"></a>NO.8渐变</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextClip</span>(context);</div><div class="line"><span class="built_in">CGColorSpaceRef</span> rgb = <span class="built_in">CGColorSpaceCreateDeviceRGB</span>();</div><div class="line"><span class="built_in">CGFloat</span> colors[] =</div><div class="line">&#123;</div><div class="line"><span class="number">204.0</span> / <span class="number">255.0</span>, <span class="number">224.0</span> / <span class="number">255.0</span>, <span class="number">244.0</span> / <span class="number">255.0</span>, <span class="number">1.00</span>,</div><div class="line"><span class="number">29.0</span> / <span class="number">255.0</span>, <span class="number">156.0</span> / <span class="number">255.0</span>, <span class="number">215.0</span> / <span class="number">255.0</span>, <span class="number">1.00</span>,</div><div class="line"><span class="number">0.0</span> / <span class="number">255.0</span>, <span class="number">50.0</span> / <span class="number">255.0</span>, <span class="number">126.0</span> / <span class="number">255.0</span>, <span class="number">1.00</span>,</div><div class="line">&#125;;</div><div class="line"><span class="built_in">CGGradientRef</span> gradient = <span class="built_in">CGGradientCreateWithColorComponents</span></div><div class="line">(rgb, colors, <span class="literal">NULL</span>, <span class="keyword">sizeof</span>(colors)/(<span class="keyword">sizeof</span>(colors[<span class="number">0</span>])*<span class="number">4</span>));</div><div class="line"><span class="built_in">CGColorSpaceRelease</span>(rgb);</div><div class="line"><span class="built_in">CGContextDrawLinearGradient</span>(context, gradient,<span class="built_in">CGPointMake</span></div><div class="line">(<span class="number">0.0</span>,<span class="number">0.0</span>) ,<span class="built_in">CGPointMake</span>(<span class="number">0.0</span>,<span class="keyword">self</span>.frame.size.height),</div><div class="line">kCGGradientDrawsBeforeStartLocation);</div></pre></td></tr></table></figure>
<h3 id="NO-9四条线画一个正方形"><a href="#NO-9四条线画一个正方形" class="headerlink" title="NO.9四条线画一个正方形"></a>NO.9四条线画一个正方形</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//画线</span></div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">UIColor</span> *aColor = [<span class="built_in">UIColor</span> colorWithRed:<span class="number">0</span> green:<span class="number">1.0</span> blue:<span class="number">0</span> alpha:<span class="number">0</span>];</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">1.0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, aColor.CGColor);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">4.0</span>);</div><div class="line"><span class="built_in">CGPoint</span> aPoints[<span class="number">5</span>];</div><div class="line">aPoints[<span class="number">0</span>] =<span class="built_in">CGPointMake</span>(<span class="number">60</span>, <span class="number">60</span>);</div><div class="line">aPoints[<span class="number">1</span>] =<span class="built_in">CGPointMake</span>(<span class="number">260</span>, <span class="number">60</span>);</div><div class="line">aPoints[<span class="number">2</span>] =<span class="built_in">CGPointMake</span>(<span class="number">260</span>, <span class="number">300</span>);</div><div class="line">aPoints[<span class="number">3</span>] =<span class="built_in">CGPointMake</span>(<span class="number">60</span>, <span class="number">300</span>);</div><div class="line">aPoints[<span class="number">4</span>] =<span class="built_in">CGPointMake</span>(<span class="number">60</span>, <span class="number">60</span>);</div><div class="line"><span class="built_in">CGContextAddLines</span>(context, aPoints, <span class="number">5</span>);</div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathStroke); <span class="comment">//开始画线</span></div></pre></td></tr></table></figure>
<h3 id="NO-10椭圆"><a href="#NO-10椭圆" class="headerlink" title="NO.10椭圆"></a>NO.10椭圆</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">UIColor</span> *aColor = [<span class="built_in">UIColor</span> colorWithRed:<span class="number">0</span> green:<span class="number">1.0</span> blue:<span class="number">0</span> alpha:<span class="number">0</span>];</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">1.0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, aColor.CGColor);</div><div class="line"></div><div class="line"><span class="built_in">CGRect</span> aRect= <span class="built_in">CGRectMake</span>(<span class="number">80</span>, <span class="number">80</span>, <span class="number">160</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextSetRGBStrokeColor</span>(context, <span class="number">0.6</span>, <span class="number">0.9</span>, <span class="number">0</span>, <span class="number">1.0</span>);</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">3.0</span>);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, aColor.CGColor);</div><div class="line"><span class="built_in">CGContextAddRect</span>(context, rect); <span class="comment">//矩形</span></div><div class="line"><span class="built_in">CGContextAddEllipseInRect</span>(context, aRect); <span class="comment">//椭圆</span></div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathStroke);</div></pre></td></tr></table></figure>
<h3 id="NO-11实心圆"><a href="#NO-11实心圆" class="headerlink" title="NO.11实心圆"></a>NO.11实心圆</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">画一个实心的圆</div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextFillEllipseInRect</span>(context, <span class="built_in">CGRectMake</span>(<span class="number">95</span>, <span class="number">95</span>, <span class="number">100.0</span>, <span class="number">100</span>));</div></pre></td></tr></table></figure>
<h3 id="NO-12"><a href="#NO-12" class="headerlink" title="NO.12"></a>NO.12</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">画一个菱形</div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">150</span>, <span class="number">150</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">100</span>, <span class="number">200</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">50</span>, <span class="number">150</span>);</div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-13-画矩形"><a href="#NO-13-画矩形" class="headerlink" title="NO.13 画矩形"></a>NO.13 画矩形</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"></div><div class="line"><span class="built_in">CGRect</span> rectangle = <span class="built_in">CGRectMake</span>(<span class="number">60</span>,<span class="number">170</span>,<span class="number">200</span>,<span class="number">80</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextAddRect</span>(context, rectangle);</div><div class="line"></div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<p>###NO.11填充一个蓝色边的红色矩形<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"><span class="built_in">CGRect</span> rectangle = <span class="built_in">CGRectMake</span>(<span class="number">60</span>,<span class="number">170</span>,<span class="number">200</span>,<span class="number">80</span>);</div><div class="line"><span class="built_in">CGContextAddRect</span>(context, rectangle);</div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div><div class="line"><span class="built_in">CGContextSetFillColorWithColor</span>(context, [<span class="built_in">UIColor</span> redColor].CGColor);</div><div class="line"><span class="built_in">CGContextFillRect</span>(context, rectangle);</div></pre></td></tr></table></figure></p>
<h3 id="NO-12绘制贝兹曲线"><a href="#NO-12绘制贝兹曲线" class="headerlink" title="NO.12绘制贝兹曲线"></a>NO.12绘制贝兹曲线</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//贝兹曲线是通过移动一个起始点，然后通过两个控制点,还有一个中止点，调用</span></div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();<span class="built_in">CGContextAddCurveToPoint</span>() 函数绘制</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextAddCurveToPoint</span>(context, <span class="number">0</span>, <span class="number">50</span>, <span class="number">300</span>, <span class="number">250</span>, <span class="number">300</span>, <span class="number">400</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-13绘制二次贝兹曲线"><a href="#NO-13绘制二次贝兹曲线" class="headerlink" title="NO.13绘制二次贝兹曲线"></a>NO.13绘制二次贝兹曲线</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">2.0</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">10</span>, <span class="number">200</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextAddQuadCurveToPoint</span>(context, <span class="number">150</span>, <span class="number">10</span>, <span class="number">300</span>, <span class="number">200</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-14绘制虚线"><a href="#NO-14绘制虚线" class="headerlink" title="NO.14绘制虚线"></a>NO.14绘制虚线</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">5.0</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextSetStrokeColorWithColor</span>(context, [<span class="built_in">UIColor</span> blueColor].CGColor);</div><div class="line"></div><div class="line"><span class="built_in">CGFloat</span> dashArray[] = &#123;<span class="number">2</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">2</span>&#125;;</div><div class="line"></div><div class="line"><span class="built_in">CGContextSetLineDash</span>(context, <span class="number">3</span>, dashArray, <span class="number">4</span>);<span class="comment">//跳过3个再画虚线，所以刚开始有6-（3-2）=5个虚点</span></div><div class="line"></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">10</span>, <span class="number">200</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextAddQuadCurveToPoint</span>(context, <span class="number">150</span>, <span class="number">10</span>, <span class="number">300</span>, <span class="number">200</span>);</div><div class="line"></div><div class="line"><span class="built_in">CGContextStrokePath</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-15绘制图片"><a href="#NO-15绘制图片" class="headerlink" title="NO.15绘制图片"></a>NO.15绘制图片</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="built_in">NSString</span>* imagePath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span>* myImageObj = [[<span class="built_in">UIImage</span> alloc] initWithContentsOfFile:imagePath];</div><div class="line"><span class="comment">//[myImageObj drawAtPoint:CGPointMake(0, 0)];</span></div><div class="line">[myImageObj drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">320</span>, <span class="number">480</span>)];</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *s = <span class="string">@"我的小狗"</span>;</div><div class="line"></div><div class="line">[s drawAtPoint:<span class="built_in">CGPointMake</span>(<span class="number">100</span>, <span class="number">0</span>) withFont:[<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">34.0</span>]];</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span> *img = [<span class="built_in">UIImage</span> imageWithContentsOfFile:path];</div><div class="line"><span class="built_in">CGImageRef</span> image = img.CGImage;</div><div class="line"><span class="built_in">CGContextSaveGState</span>(context);</div><div class="line"><span class="built_in">CGRect</span> touchRect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, img.size.width, img.size.height);</div><div class="line"><span class="built_in">CGContextDrawImage</span>(context, touchRect, image);</div><div class="line"><span class="built_in">CGContextRestoreGState</span>(context);</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span> *img = [<span class="built_in">UIImage</span> imageWithContentsOfFile:path];</div><div class="line"><span class="built_in">CGImageRef</span> image = img.CGImage;</div><div class="line"><span class="built_in">CGContextSaveGState</span>(context);</div><div class="line"></div><div class="line"><span class="built_in">CGContextRotateCTM</span>(context, M_PI);</div><div class="line"><span class="built_in">CGContextTranslateCTM</span>(context, -img.size.width, -img.size.height);</div><div class="line"></div><div class="line"><span class="built_in">CGRect</span> touchRect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, img.size.width, img.size.height);</div><div class="line"><span class="built_in">CGContextDrawImage</span>(context, touchRect, image);</div><div class="line"><span class="built_in">CGContextRestoreGState</span>(context);*/</div><div class="line"></div><div class="line"><span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"dog"</span> ofType:<span class="string">@"png"</span>];</div><div class="line"><span class="built_in">UIImage</span> *img = [<span class="built_in">UIImage</span> imageWithContentsOfFile:path];</div><div class="line"><span class="built_in">CGImageRef</span> image = img.CGImage;</div><div class="line"></div><div class="line"><span class="built_in">CGContextSaveGState</span>(context);</div><div class="line"></div><div class="line"><span class="built_in">CGAffineTransform</span> myAffine = <span class="built_in">CGAffineTransformMakeRotation</span>(M_PI);</div><div class="line">myAffine = <span class="built_in">CGAffineTransformTranslate</span>(myAffine, -img.size.width, -img.size.height);</div><div class="line"><span class="built_in">CGContextConcatCTM</span>(context, myAffine);</div><div class="line"></div><div class="line"><span class="built_in">CGContextRotateCTM</span>(context, M_PI);</div><div class="line"><span class="built_in">CGContextTranslateCTM</span>(context, -img.size.width, -img.size.height);</div><div class="line"></div><div class="line"><span class="built_in">CGRect</span> touchRect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, img.size.width, img.size.height);</div><div class="line"><span class="built_in">CGContextDrawImage</span>(context, touchRect, image);</div><div class="line"><span class="built_in">CGContextRestoreGState</span>(context);</div></pre></td></tr></table></figure>
<h3 id="NO-16画圆角矩形"><a href="#NO-16画圆角矩形" class="headerlink" title="NO.16画圆角矩形"></a>NO.16画圆角矩形</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"> <span class="comment">//	矩形的宽和高</span></div><div class="line"><span class="built_in">CGFloat</span> width = <span class="number">100</span>;</div><div class="line"><span class="built_in">CGFloat</span> height = <span class="number">80</span>;</div><div class="line"><span class="comment">// 简便起见，这里把圆角半径设置为长和宽平均值的1/10</span></div><div class="line"><span class="built_in">CGFloat</span> radius = (width + height) * <span class="number">0.05</span>;</div><div class="line"> </div><div class="line"><span class="comment">// 获取CGContext，注意UIKit里用的是一个专门的函数</span></div><div class="line"><span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line"><span class="comment">// 移动到初始点</span></div><div class="line"><span class="built_in">CGContextMoveToPoint</span>(context, radius, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// 绘制第1条线和第1个1/4圆弧</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, width - radius, <span class="number">0</span>);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, width - radius, radius, radius, <span class="number">-0.5</span> * M_PI, <span class="number">0.0</span>, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// 绘制第2条线和第2个1/4圆弧</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, width, height - radius);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, width - radius, height - radius, radius, <span class="number">0.0</span>, <span class="number">0.5</span> * M_PI, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// 绘制第3条线和第3个1/4圆弧</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, radius, height);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, radius, height - radius, radius, <span class="number">0.5</span> * M_PI, M_PI, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// 绘制第4条线和第4个1/4圆弧</span></div><div class="line"><span class="built_in">CGContextAddLineToPoint</span>(context, <span class="number">0</span>, radius);</div><div class="line"><span class="built_in">CGContextAddArc</span>(context, radius, radius, radius, M_PI, <span class="number">1.5</span> * M_PI, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// 闭合路径</span></div><div class="line"><span class="built_in">CGContextClosePath</span>(context);</div><div class="line"><span class="comment">// 填充半透明黑色</span></div><div class="line"><span class="built_in">CGContextSetRGBFillColor</span>(context, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.5</span>);</div><div class="line"><span class="built_in">CGContextDrawPath</span>(context, kCGPathFill);</div></pre></td></tr></table></figure>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/blog/2016/10/09/DrawRectFunctions/" class="archive-article-date">
  	<time datetime="2016-10-09T05:54:01.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-09</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/blog/2016/10/10/UITableViewIntro/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          UITableView常用方法简介
        
      </div>
    </a>
  
  
</nav>










<section id="comments">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'jslite'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 晨星、风
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: false,
		mathjax: false,
		animate: false,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/blog/",
		innerArchive: false
	}
</script>

<script src="/blog/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
  </ul>
  <div class="tools-wrap">
    

    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://developer.apple.com/news/">AppleDeveloperNews</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://www.objccn.io">Objc中国</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.sunnyxx.com">Sunny的博客</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.devtang.com">唐巧的博客</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.cocoachina.com/ios/index.html">CocoaChina</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://nshipster.cn">NSHipster</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jianshu.com">简书</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.zhihu.com">知乎</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://segmentfault.com">SegmentFault</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://stackoverflow.com/questions/tagged/ios">stackoverflow</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.code4app.com">Code4App</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.ui4app.com">UI4App</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.iconfont.cn">IconFont</a>
  	        
  	        </div>
  		
    	</section>
    

    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>